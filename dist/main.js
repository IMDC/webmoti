!function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(r,i,function(e){return n[e]}.bind(null,i));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=26)}([function(n,e){var t=/[\.\:]/,r=n.exports=function(n,e,i){var o={},u=[];function c(e){var t,r=[].slice.call(arguments,1),s=a(e),f=o[s]||[];return u.forEach(function(n){n({name:s,args:r})}),t=[].concat(f).map(function(n){return n.apply(i||this,r)}),c.parent&&(t=t.concat(c.parent.apply(i||this,[(n?n+".":"")+s].concat(r)))),t}function a(n){return(Array.isArray(n)?n:n.split(t)).join(".")}function s(n,e){var t;return n=a(n),(t=o[n])?t.push(e):o[n]=[e],c}return"function"==typeof n&&(e=n,n=""),n=a(n||""),c.clear=c.removeAllListeners=function(n){n?delete o[a(n)]:o={}},c.feed=function(n){return u.push(n),function(){u.splice(u.indexOf(n),1)}},c.on=c.addListener=s,c.once=function(n,e){function t(){var r=e.apply(this,arguments);return c.off(n,t),r}return e._actual=t,s(n,t)},c.off=c.removeListener=function(n,e){var t=o[a(n)]||[],r=t?t.indexOf(e._actual||e):-1;r>=0&&t.splice(r,1)},c.parent=e||n&&r(),c}},function(n,e,t){"use strict";var r=t(32),i=n.exports=function(n,e){var t,r,o,u=(e||{}).attach,c=this||("undefined"!=typeof window?window:void 0),a=((e||{}).prefixes||["ms","o","moz","webkit"]).concat("");if(c)for(t=a.length;t--;)if(void 0!==c[o=(r=a[t])+(r?n.charAt(0).toUpperCase()+n.slice(1):n)])return i.browser=i.browser||r.toLowerCase(),u&&(c[n]=c[o]),c[o]};i.moz="undefined"!=typeof navigator&&!!navigator.mozGetUserMedia,i.browser=r.name,i.browserVersion=i.version=r.version},function(n,e,t){"use strict";n.exports=function(n){return[].slice.call(arguments,1).forEach(function(e){if(e)for(var t in e)n[t]=e[t]}),n}},function(n,e,t){"use strict";var r=[],i=[],o=[console],u=n.exports=function(n){var e=t();function t(){return e=r.indexOf("*")>=0||r.indexOf(n)>=0}return i[i.length]=t,function(){var t=[].slice.call(arguments);("string"==typeof t[0]||t[0]instanceof String)&&(t[0]=n+": "+t[0]),e&&o.forEach(function(n){n.log.apply(n,t)})}};u.reset=function(){return o=[],r=[],u.enable()},u.to=function(n){return o=o.concat(n||[]),u},u.enable=function(){return r=r.concat([].slice.call(arguments)),i.forEach(function(n){n()}),u}},function(n,e,t){var r=t(1),i=["init"];function o(n){return n&&"function"==typeof n.supported&&n.supported(r)}function u(n){return i.filter(function(e){return"function"==typeof n[e]}).length===i.length}n.exports=function(n){return[].concat(n||[]).filter(o).filter(u)[0]}},function(n,e){var t,r,i=n.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(n){if(t===setTimeout)return setTimeout(n,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(n,0);try{return t(n,0)}catch(e){try{return t.call(null,n,0)}catch(e){return t.call(this,n,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(n){t=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(n){r=u}}();var a,s=[],f=!1,l=-1;function d(){f&&a&&(f=!1,a.length?s=a.concat(s):l=-1,s.length&&p())}function p(){if(!f){var n=c(d);f=!0;for(var e=s.length;e;){for(a=s,s=[];++l<e;)a&&a[l].run();l=-1,e=s.length}a=null,f=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(e){try{return r.call(null,n)}catch(e){return r.call(this,n)}}}(n)}}function v(n,e){this.fun=n,this.array=e}function h(){}i.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];s.push(new v(n,e)),1!==s.length||f||c(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(n){return[]},i.binding=function(n){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(n){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,e){n.exports=function(){var n=[];function e(n,e){return function(t){var r=0,i=t;do{i=i&&i[n[r++]]}while(i&&r<=e);return i}}return[].slice.call(arguments).forEach(function(e){var t="number"==typeof e?[e]:(e||"").split(".");n[n.length]={name:t[0],parts:t,maxIdx:t.length-1}}),n.length<=1?e(n[0].parts,n[0].maxIdx):function(t){for(var r={},i=0,o=n.length;i<o;i++)r[n[i].name]=e([n[i].parts[0]],0)(t);return r}}},function(n,e){n.exports=function(n){function e(e){return delete n[e]}return"object"!=typeof n?n:{get:function(e){return n[e]},set:function(e,t){n[e]=t},remove:e,delete:e,keys:function(){return Object.keys(n)},values:function(){return Object.keys(n).map(function(e){return n[e]})}}}},function(n,e){function t(n){return"function"!=typeof n?n:(n.pipe=n.pipe||function(e){if("function"!=typeof e&&"function"!=typeof e.sink)throw new Error("must pipe to reader");var r=t(e.sink?e.sink(n):e(n));return e.source||r},n.type="Source",n)}e.id=function(n){return n},e.prop=function(n){if("string"==typeof n){var e=n;return function(n){return n[e]}}return n},e.tester=function(n){return n?"object"==typeof n&&"function"==typeof n.test?n.test.bind(n):e.prop(n)||e.id:e.id},e.addPipe=t;e.Source=function(n){function e(){var e=[].slice.call(arguments);return t(n.apply(null,e))}return e.type="Source",e};var r=e.Through=function(n){return function(){var e=[].slice.call(arguments),t=[];function r(r){for(e.unshift(r),r=n.apply(null,e);t.length;)r=t.shift()(r);return r}return r.pipe=function(n){if(t.push(n),"Source"===n.type)throw new Error("cannot pipe "+r.type+" to Source");return r.type="Sink"===n.type?"Sink":"Through",r},r.type="Through",r}},i=e.Sink=function(n){return function(){var e=[].slice.call(arguments);if(!n)throw new Error("must be createReader function");function t(t){return e.unshift(t),n.apply(null,e)}return t.type="Sink",t}};e.maybeSink=e.maybeDrain=function(n,e){return e?i(function(t){return n(e)(t)})():r(function(e){var t;return function(r,i){return r?e(r,i):t?i(t):void n(function(n,e){t=n||!0,n?i(t):i(null,e)})(e)}})()}},function(n,e){function t(n){return"function"!=typeof n?n:(n.pipe=n.pipe||function(e){if("function"!=typeof e)throw new Error("must pipe to reader");return t(e(n))},n.type="Source",n)}e.id=function(n){return n},e.prop=function(n){if("string"==typeof n){var e=n;return function(n){return n[e]}}return n},e.tester=function(n){return n?"object"==typeof n&&"function"==typeof n.test?n.test.bind(n):e.prop(n)||e.id:e.id},e.addPipe=t;e.Source=function(n){function e(){var e=[].slice.call(arguments);return t(n.apply(null,e))}return e.type="Source",e};var r=e.Through=function(n){return function(){var e=[].slice.call(arguments),t=[];function r(r){for(e.unshift(r),r=n.apply(null,e);t.length;)r=t.shift()(r);return r}return r.pipe=function(n){if(t.push(n),"Source"===n.type)throw new Error("cannot pipe "+r.type+" to Source");return r.type="Sink"===n.type?"Sink":"Through",r},r.type="Through",r}},i=e.Sink=function(n){return function(){var e=[].slice.call(arguments);if(!n)throw new Error("must be createReader function");function t(t){return e.unshift(t),n.apply(null,e)}return t.type="Sink",t}};e.maybeSink=e.maybeDrain=function(n,e){return e?i(function(t){return n(e)(t)})():r(function(e){var t;return function(r,i){return r?e(r,i):t?i(t):void n(function(n,e){t=n||!0,n?i(t):i(null,e)})(e)}})()}},function(n,e,t){"use strict";var r=t(31),i=e.detect=t(11),o=t(4);e.logger=t(3);var u=e.RTCPeerConnection=i("RTCPeerConnection");e.couple=t(35),e.createConnection=function(n,e){var t=o((n||{}).plugins),i=(n||{}).RTCPeerConnection||u,c=r.config(n);return e=r.connectionConstraints(n,e),t&&"function"==typeof t.createConnection?t.createConnection(c,e):new i(c,e)}},function(n,e,t){"use strict";n.exports=t(1)},function(n,e,t){"use strict";n.exports=function(n){return n=n||{},[].slice.call(arguments,1).forEach(function(e){if(e)for(var t in e)void 0===n[t]&&(n[t]=e[t])}),n}},function(n,e,t){var r=t(3)("rtc-validator"),i=/^(?:a=)?candidate:/,o=[[/.+/,"invalid foundation component","foundation"],[/\d+/,"invalid component id","component-id"],[/(UDP|TCP)/i,"transport must be TCP or UDP","transport"],[/\d+/,"numeric priority expected","priority"],[t(41),"invalid connection address","connection-address"],[/\d+/,"invalid connection port","connection-port"],[/typ/,'Expected "typ" identifier',"type classifier"],[/.+/,"Invalid candidate type specified","candidate-type"]];function u(n,e){var t=o[e];if(t&&!t[0].test(n))return r(t[2]+" part failed validation: "+n),new Error(t[1])}n.exports=function(n){var e=[],t=n&&(n.candidate||n),r=t&&i.exec(t),o=r&&t.slice(r[0].length).split(/\s/);return t?r?e=e.concat(o.map(u)).filter(Boolean):[new Error("candidate did not match expected sdp line format")]:[new Error("empty candidate")]}},function(n,e,t){"use strict";var r=t(3)("rtc/cleanup"),i=["closed"],o=["addstream","datachannel","icecandidate","negotiationneeded","removestream","signalingstatechange"],u=["iceconnectionstatechange"];n.exports=function(n){if(n){var e=n.iceConnectionState,t=n.signalingState,c=i.indexOf(e)<0&&i.indexOf(t)<0;if(a(o),c){r("attempting connection close, current state: "+n.iceConnectionState);try{n.close()}catch(n){console.warn("Could not close connection",n)}}setTimeout(function(){a(u)},100)}function a(e){e.forEach(function(e){n["on"+e]&&(n["on"+e]=null)})}}},function(n,e){n.exports=function(n,e){var t=n&&(n.removeEventListener||n.removeListener);function r(){"function"==typeof t&&(t.call(n,"open",i),t.call(n,"error",o))}function i(n){r(),e()}function o(n){r(),e(n)}return n.readyState>=2?e(!0):1===n.readyState?e():(n.addEventListener("open",i),void n.addEventListener("error",o))}},function(n,e,t){!function(e){"use strict";var t=0,r=Math.pow(36,4),i=function(n,e){var t="000000000"+n;return t.substr(t.length-e)},o=function(){return i((Math.random()*r<<0).toString(36),4)},u=function(){return t=t<r?t:0,++t-1},c=function(){var n=(new Date).getTime().toString(36),e=c.fingerprint(),t=o()+o();return"c"+n+i(u().toString(36),4)+e+t};c.slug=function(){var n,e=(new Date).getTime().toString(36),t=c.fingerprint().slice(0,1)+c.fingerprint().slice(-1),r=o().slice(-2);return n=u().toString(36).slice(-4),e.slice(-2)+n+t+r},c.globalCount=function(){var n=function(){var n,e=0;for(n in window)e++;return e}();return c.globalCount=function(){return n},n},c.fingerprint=function(){return i((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+c.globalCount().toString(36),4)},e.register?e.register("cuid",c):n.exports=c}(this.applitude||this)},function(n,e){e.keys=function(n){return i(Object.keys(n))};function t(n,e,t){n(e),t&&t(!0===e?null:e)}var r=e.once=function(n,e){return function(r,i){if(r)return t(i,r,e);if(null!=n){var o=n;n=null,i(null,o)}else i(!0)}},i=e.values=e.readArray=function(n,e){if(!n)return function(n,r){return n?t(r,n,e):r(!0)};Array.isArray(n)||(n=Object.keys(n).map(function(e){return n[e]}));var r=0;return function(i,o){if(i)return t(o,i,e);o(r>=n.length||null,n[r++])}};e.count=function(n){var e=0;return n=n||1/0,function(t,r){return t?r&&r(t):e>n?r(!0):void r(null,e++)}},e.infinite=function(n){return n=n||Math.random,function(e,t){return e?t&&t(e):t(null,n())}},e.defer=function(){var n,e,t=[],r=function(r,i){n?n(r,i):(e=r,t.push(i))};return r.resolve=function(r){if(n)throw new Error("already resolved");if(!(n=r))throw new Error("no read cannot resolve!"+n);for(;t.length;)n(e,t.shift())},r.abort=function(n){r.resolve(function(e,t){t(n||!0)})},r},e.empty=function(){return function(n,e){e(!0)}},e.error=function(n){return function(e,t){t(n)}},e.depthFirst=function(n,e){var t=[];return t.unshift(r(n)),function n(r,i){if(!t.length)return i(!0);t[0](r,function(r,o){if(r)return t.shift(),n(null,i);t.unshift(e(o)),i(r,o)})}},e.widthFirst=function(n,e){var t=[];return t.push(r(n)),function n(r,i){if(!t.length)return i(!0);t[0](r,function(r,o){if(r)return t.shift(),n(null,i);t.push(e(o)),i(r,o)})}},e.leafFirst=function(n,e){var t=[],i=[];return t.push(r(n)),function n(r,o){t[0](r,function(r,u){if(r)return t.shift(),i.length?o(null,i.shift()):o(!0);t.unshift(e(u)),i.unshift(u),n(null,o)})}}},function(n,e){var t=e.drain=function(n,e,t){!function r(){for(var i=!0,o=!1;i;)if(o=!1,n(null,function(u,c){if(o=!0,u){if(i=!1,t)t(!0===u?null:u);else if(u&&!0!==u)throw u}else e&&!1===e(c)?(i=!1,n(!0,t||function(){})):i||r()}),!o)return void(i=!1)}()};e.onEnd=function(n,e){return t(n,null,e)},e.log=function(n,e){return t(n,function(n){console.log(n)},e)}},function(n,e,t){var r=t(63);n.exports=r.Source(function(n){var e,t=[],r=[],i=[];function o(){for(var n;i.length&&((n=t.length)||e);){var o=t.shift(),u=r.shift();i.shift()(n?null:e,o),u&&u(!0===e?null:e)}}function u(t,r){e=e||t,i.push(r),o(),e&&n&&n(!0===e?null:e)}return u.push=function(n,i){if(e)return i&&i(!0===e?null:e);t.push(n),r.push(i),o()},u.end=function(t,i){"function"==typeof t&&(i=t,t=!0),e=e||t||!0,i&&r.push(i),o(),e&&n&&n(!0===e?null:e)},u})},function(n,e){e.keys=function(n){return r(Object.keys(n))};var t=e.once=function(n){return function(e,t){if(e)return t(e);if(null!=n){var r=n;n=null,t(null,r)}else t(!0)}},r=e.values=e.readArray=function(n){Array.isArray(n)||(n=Object.keys(n).map(function(e){return n[e]}));var e=0;return function(t,r){if(t)return r&&r(t);r(e>=n.length||null,n[e++])}};e.count=function(n){var e=0;return n=n||1/0,function(t,r){return t?r&&r(t):e>n?r(!0):void r(null,e++)}},e.infinite=function(n){return n=n||Math.random,function(e,t){return e?t&&t(e):t(null,n())}},e.defer=function(){var n,e,t=[],r=function(r,i){n?n(r,i):(e=r,t.push(i))};return r.resolve=function(r){if(n)throw new Error("already resolved");if(!(n=r))throw new Error("no read cannot resolve!"+n);for(;t.length;)n(e,t.shift())},r.abort=function(n){r.resolve(function(e,t){t(n||!0)})},r},e.empty=function(){return function(n,e){e(!0)}},e.depthFirst=function(n,e){var r=[];return r.unshift(t(n)),function n(t,i){if(!r.length)return i(!0);r[0](t,function(t,o){if(t)return r.shift(),n(null,i);r.unshift(e(o)),i(t,o)})}},e.widthFirst=function(n,e){var r=[];return r.push(t(n)),function n(t,i){if(!r.length)return i(!0);r[0](t,function(t,o){if(t)return r.shift(),n(null,i);r.push(e(o)),i(t,o)})}},e.leafFirst=function(n,e){var r=[],i=[];return r.push(t(n)),function n(t,o){r[0](t,function(t,u){if(t)return r.shift(),i.length?o(null,i.shift()):o(!0);r.unshift(e(u)),i.unshift(u),n(null,o)})}}},function(n,e){var t=e.drain=function(n,e,t){!function r(){for(var i=!0,o=!1;i;)if(o=!1,n(null,function(u,c){o=!0,u?(i=!1,t&&t(!0===u?null:u)):e&&!1===e(c)?(i=!1,n(!0,t||function(){})):i||r()}),!o)return void(i=!1)}()};e.onEnd=function(n,e){return t(n,null,e)},e.log=function(n,e){return t(n,function(n){console.log(n)},e)}},function(n,e){function t(n){return"object"!=typeof n||n instanceof String?"function"==typeof n?null:n:JSON.stringify(n)}n.exports=function(n){return n.map(t).join("|")}},function(n,e){n.exports=function(n){return function(e){var t=n.get(e);return t&&t.data}}},function(n,e,t){n.exports=function(){var n="function",e="object",t="textContent",r="setAttribute",i="attrMap",o="isNode",u="isElement",c=typeof document===e?document:{},a=function(n,e){return typeof n===e},s=typeof Node===n?function(n){return n instanceof Node}:function(n){return n&&a(n,e)&&"nodeType"in n&&a(n.ownerDocument,e)},f=function(n){return n instanceof Array},l=function(n,e){d[o](e)||(e=c.createTextNode(e)),n.appendChild(e)};function d(){var s,p=arguments,v=p[0],h=p[1],m=2,g=p.length,y=d[i];if(v=d[u](v)?v:c.createElement(v),1===g)return v;if((!a(h,e)||d[o](h)||f(h))&&(--m,h=null),g-m==1&&a(p[m],"string")&&void 0!==v[t])v[t]=p[m];else for(;m<g;++m)if(null!=(s=p[m]))if(f(s))for(var w=0;w<s.length;++w)l(v,s[w]);else l(v,s);for(var b in h)if(y[b]){var _=y[b];typeof _===n?_(v,h[b]):v[r](_,h[b])}else a(h[b],n)?v[b]=h[b]:v[r](b,h[b]);return v}return d[i]={},d[u]=function(n){return d[o](n)&&1===n.nodeType},d[o]=s,"undefined"!=typeof Proxy?new Proxy(d,{get:function(n,e){return!(e in d)&&(d[e]=d.bind(null,e)),d[e]}}):d}()},function(n,e){e.mimetype="application/x-temwebrtcplugin",e.genId=function(){return Math.random().toString(36).slice(2)}},function(n,e,t){t(27);const r=t(30),i=t(73),o=t(74),u=t(75),c=t(76),a=[t(77)],s=i("div",{class:"local"}),f=i("div",{class:"remote"}),l=document.getElementById("mid-screen"),d=document.getElementById("small-screen");o({audio:!1,video:!0},{plugins:a},function(n,e){if(n)return console.error("could not capture media: ",n);u(e,{plugins:a},function(n,e){s.appendChild(e)}),r("https://138.197.165.173:80/",{room:"contest",plugins:a}).addStream(e).on("call:started",function(n,e,t){u(e.getRemoteStreams()[0],{plugins:a},function(e,t){e||(t.dataset.peer=n,f.appendChild(t))})}).on("call:ended",function(n){c('*[data-peer="'+n+'"]',f).forEach(function(n){n.parentNode.removeChild(n)})})}),document.head.appendChild(i("style",[".local { position: absolute;  right: 150px; }",".local video { max-width: 600px; }"].join("\n"))),document.body.appendChild(s),document.body.appendChild(f),window.onload=function(){const n=document.getElementById("video_id"),e=document.getElementById("play-pause"),t=document.getElementById("mute"),r=document.getElementById("full-screen");document.getElementById("seek-bar"),document.getElementById("volume-bar");e.addEventListener("click",function(){1==n.paused?(n.play(),e.innerHTML="Pause"):(n.pause(),e.innerHTML="Play")}),t.addEventListener("click",function(){0==n.muted?(n.mute=!0,t.innerHTML="UnMute"):(n.mute=!1,t.innerHTML="Mute")}),r.addEventListener("click",function(){n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}),document.getElementById("video_id").controls=!1},l.onclick=function(){document.getElementById("video-container").style.width="100%"},d.onclick=function(){document.getElementById("video-container").style.width="50%"}},function(n,e,t){"use strict";e.decode=e.parse=t(28),e.encode=e.stringify=t(29)},function(n,e,t){"use strict";function r(n,e){return Object.prototype.hasOwnProperty.call(n,e)}n.exports=function(n,e,t,o){e=e||"&",t=t||"=";var u={};if("string"!=typeof n||0===n.length)return u;var c=/\+/g;n=n.split(e);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var s=n.length;a>0&&s>a&&(s=a);for(var f=0;f<s;++f){var l,d,p,v,h=n[f].replace(c,"%20"),m=h.indexOf(t);m>=0?(l=h.substr(0,m),d=h.substr(m+1)):(l=h,d=""),p=decodeURIComponent(l),v=decodeURIComponent(d),r(u,p)?i(u[p])?u[p].push(v):u[p]=[u[p],v]:u[p]=v}return u};var i=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)}},function(n,e,t){"use strict";var r=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};n.exports=function(n,e,t,c){return e=e||"&",t=t||"=",null===n&&(n=void 0),"object"==typeof n?o(u(n),function(u){var c=encodeURIComponent(r(u))+t;return i(n[u])?o(n[u],function(n){return c+encodeURIComponent(r(n))}).join(e):c+encodeURIComponent(r(n[u]))}).join(e):c?encodeURIComponent(r(c))+t+encodeURIComponent(r(n)):""};var i=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function o(n,e){if(n.map)return n.map(e);for(var t=[],r=0;r<n.length;r++)t.push(e(n[r],r));return t}var u=Object.keys||function(n){var e=[];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.push(t);return e}},function(n,e,t){"use strict";var r=t(10),i=t(0),o=t(4),u=r.logger("rtc-quickconnect"),c=t(2);n.exports=function(n,e){var a,s,f="undefined"!=typeof location&&location.hash.slice(1),l=t(51)(c({signaller:n,endpoints:["/","/primus"]},e)),d=t(23)(l.peers),p=(e||{}).ns||"",v=(e||{}).room,h=(e||{}).debug,m=!(e||{}).manualJoin,g={},y=!1,w=[],b=l.calls=t(70)(l,e),_={},S=l.plugins=(e||{}).plugins||[],x=o(S),T=parseInt((e||{}).expectedLocalStreams,10)||0,A=0,E=0;function C(){clearTimeout(A),y||m&&(x&&!s||a&&(T&&w.length<T||(A=setTimeout(function(){var n=c({room:v},g);l.announce(n),y=!0},0))))}function O(n){var t,o,s,f=d(n);f.room===v&&(b.end(n),t=r.createConnection(c({},e,{iceServers:a}),(e||{}).constraints),l("peer:connect",f.id,t,f),s=b.create(f.id,t),w.forEach(function(n){t.addStream(n)}),l.isMaster(f.id)?(u("is master, creating data channels: ",Object.keys(_)),Object.keys(_).forEach(function(n){k(t.createDataChannel(n,_[n]),t,f)})):t.ondatachannel=function(e){var r=e&&e.channel;r&&void 0!==_[r.label]&&k(r,t,d(n))},u("coupling "+l.id+" to "+f.id),o=r.couple(t,n,l,c({},e,{logger:i("pc."+n,l)})),s.monitor=o,l("peer:couple",n,t,f,o),o.once("connected",b.start.bind(null,n,t,f)),o.once("closed",b.end.bind(null,n)),l.isMaster(n)&&o.createOffer())}function L(n){var e=b.get(n);if(!e)throw new Error("No active call for peer: "+n);return e}function k(n,e,t){var r;function i(){var i=b.get(t.id),o=[t.id,n,t,e];u('reporting channel "'+n.label+'" ready, have call: '+!!i),clearInterval(r),n.onopen=null,i&&i.channels.set(n.label,n),u("triggering channel:opened events for channel: "+n.label),l.apply(l,["channel:opened"].concat(o)),l.apply(l,["channel:opened:"+n.label].concat(o))}if(u("channel "+n.label+" discovered for peer: "+t.id),"open"===n.readyState)return i();u("channel not ready, current state = "+n.readyState),n.onopen=i,r=setInterval(function(){u("checking channel state, current state = "+n.readyState),"open"===n.readyState&&i()},500)}return v||("undefined"==typeof location||f||(f=location.hash=""+Math.pow(2,53)*Math.random()),v=p+"#"+f),h&&r.logger.enable.apply(r.logger,Array.isArray(u)?h:["*"]),l.on("peer:announce",function(n){O(n.id)}),l.on("peer:update",function(n){var e=n&&n.id,t=e&&b.get(e);if(e&&!t)return u("received peer update from peer "+e+", no active calls"),l.reconnectTo(e)}),l.on("message:reconnect",function(n){O(n.id)}),l.broadcast=l.addStream=function(n){return w.push(n),b.values().forEach(function(e){e.pc.addStream(n)}),C(),l},l.endCalls=function(){b.keys().forEach(b.end)},l.close=function(){l.endCalls(),l.leave()},l.createDataChannel=function(n,e){return b.keys().forEach(function(t){var r=b.get(t);r&&r.pc&&l.isMaster(t)&&k(r.pc.createDataChannel(n,e),r.pc,d(t))}),_[n]=e||null,l},l.join=function(){m=!0,C()},l.get=function(n){return g[n]},l.getLocalStreams=function(){return[].concat(w)},l.reactive=function(){return(e=e||{}).reactive=!0,l},l.removeStream=function(n){var e=w.indexOf(n);return b.values().forEach(function(e){e.pc.removeStream(n)}),e>=0&&w.splice(e,1),l},l.requestChannel=function(n,e,t){var r=L(n),i=r&&r.channels.get(e);return i?(t(null,i),l):(l.once("channel:opened:"+e,function(n,e){t(null,e)}),l)},l.requestStream=function(n,e,t){var r,i=L(n);return(r=i.pc.getRemoteStreams()[e])?(t(null,r),l):(l.on("stream:added",function o(u){u===n&&(r=i.pc.getRemoteStreams()[e])&&(l.removeListener("stream:added",o),t(null,r))}),l)},l.profile=function(n){return c(g,n),y&&(clearTimeout(E),E=setTimeout(function(){l.announce(g)},(e||{}).updateDelay||1e3)),l},l.waitForCall=function(n,e){var t=b.get(n);if(t&&t.active)return e(null,t.pc),l;l.on("call:started",function t(r){r===n&&(l.removeListener("call:started",t),e(null,b.get(r).pc))})},l.reconnectTo=function(n){if(n)return l.to(n).send("/reconnect"),O(n)},T&&l.on("peer:filter",function(n,e){e.allow=e.allow&&w.length>=T}),l.on("local:announce",function(n){n&&void 0!==n.room&&(v=n.room)}),l.on("message:ping",b.ping),l.on("message:leave",function(n){var e=n&&n.id;e&&b.end(e)}),t(72)(e,function(n,e){if(n)return console.error("could not find iceServers: ",n);a=e,C()}),x&&x&&x.init(e,function(n){if(n)return console.error("Could not initialize plugin: ",n);s=!0,C()}),l}},function(n,e,t){"use strict";var r=t(3)("generators"),i=t(11),o=t(12),u={create:{dtls:function(n){i.moz||(n.optional=(n.optional||[]).concat({DtlsSrtpKeyAgreement:!0}))}}};e.config=function(n){var e=(n||{}).iceServerGenerator;return o({},n,{iceServers:"function"==typeof e?e():[]})},e.connectionConstraints=function(n,e){var t,i={},c=u.create;return Object.keys(n||{}).forEach(function(n){c[n]&&c[n](i)}),t=o({},e,i),r("generated connection constraints: ",t),t}},function(n,e,t){var r,i=t(33);"undefined"!=typeof navigator&&navigator&&(r=navigator.userAgent),n.exports=i(r)},function(n,e,t){var r=t(34);n.exports=function(n){if(!n)return null;return[["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]].map(function(e){if(e[1].test(n)){var t=e[1].exec(n),i=t&&t[1].split(/[._]/).slice(0,3);return i&&i.length<3&&Array.prototype.push.apply(i,1==i.length?[0,0]:[0]),{name:e[0],version:i.join("."),os:r(n)}}}).filter(Boolean).shift()}},function(n,e){n.exports=function(n){var e=[{name:"iOS",rule:/iP(hone|od|ad)/},{name:"Android OS",rule:/Android/},{name:"BlackBerry OS",rule:/BlackBerry|BB10/},{name:"Windows Mobile",rule:/IEMobile/},{name:"Amazon OS",rule:/Kindle/},{name:"Windows 3.11",rule:/Win16/},{name:"Windows 95",rule:/(Windows 95)|(Win95)|(Windows_95)/},{name:"Windows 98",rule:/(Windows 98)|(Win98)/},{name:"Windows 2000",rule:/(Windows NT 5.0)|(Windows 2000)/},{name:"Windows XP",rule:/(Windows NT 5.1)|(Windows XP)/},{name:"Windows Server 2003",rule:/(Windows NT 5.2)/},{name:"Windows Vista",rule:/(Windows NT 6.0)/},{name:"Windows 7",rule:/(Windows NT 6.1)/},{name:"Windows 8",rule:/(Windows NT 6.2)/},{name:"Windows 8.1",rule:/(Windows NT 6.3)/},{name:"Windows 10",rule:/(Windows NT 10.0)/},{name:"Windows ME",rule:/Windows ME/},{name:"Open BSD",rule:/OpenBSD/},{name:"Sun OS",rule:/SunOS/},{name:"Linux",rule:/(Linux)|(X11)/},{name:"Mac OS",rule:/(Mac_PowerPC)|(Macintosh)/},{name:"QNX",rule:/QNX/},{name:"BeOS",rule:/BeOS/},{name:"OS/2",rule:/OS\/2/},{name:"Search Bot",rule:/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/}].filter(function(e){if(n.match(e.rule))return!0});return e&&e[0]?e[0].name:null}},function(n,e,t){"use strict";var r=t(0),i=t(36),o=t(14),u=t(49),c=t(50),a=t(6)("candidate","sdpMid","sdpMLineIndex"),s=["closed","failed"],f=["checking"];n.exports=function(n,e,l,d){var p,v,h,m,g=(d||{}).debugLabel||"rtc",y=t(3)(g+"/couple"),w=u(n,e,l,(d||{}).logger),b=r("",w),_=(d||{}).reactive,S=!0,x=(d||{}).disconnectTimeout||1e4,T=!1,A=void 0,E=(d||{}).readyInterval||100,C=(d||{}).failTimeout||3e4,O=(d||{}).allowReactiveInterop,L=l.isMaster(e),k=i(n,d),M=!1,I=!1,j=!1,F=!1,D=!1,R=!1;function P(){return!M&&"stable"===n.signalingState}function q(){P()&&(y("["+l.id+"] Creating new offer for connection to "+e),M=!0,F=!0,D=!0,I=!1,k.createOffer().then(function(){F=!1}).catch(function(){F=!1,D=!0}))}var W=c(function(){if(!D)return T?L?(y("["+l.id+"] Creating new offer for "+e),q()):(y("["+l.id+"] Requesting negotiation from "+e+" (requesting offerer? "+j+")"),l.to(e).send("/negotiate",{requestOfferer:(O||!R)&&j})):(y("["+l.id+"] "+e+" not yet ready for offer"),b.once("target.ready",W));y("["+l.id+"] awaiting answer from "+e+" before sending new offer")},100,{leading:!1});function B(){y("decoupling "+l.id+" from "+e),M=!1,F=!1,D=!1,clearTimeout(v),clearTimeout(p),clearTimeout(m),clearTimeout(h),w.close(),o(n),l.removeListener("sdp",$),l.removeListener("candidate",N),l.removeListener("endofcandidates",U),l.removeListener("negotiate",X),l.removeListener("ready",V),l.removeListener("requestoffer",Q),l.removeListener("message:sdp",$),l.removeListener("message:candidate",N),l.removeListener("message:endofcandidates",U),l.removeListener("message:negotiate",X),l.removeListener("message:ready",V),l.removeListener("message:requestoffer",Q)}function N(n,t){t&&t.id===e&&k.addIceCandidate(n)}function U(){}function $(n,t){t&&t.id===e&&(b("sdp.remote",n),k.setRemoteDescription(n).then(function(){M&&"answer"===n.type&&(D=!1,Z(),y("coupling complete, can now trigger any pending renegotiations"),I&&W())}))}function V(n){!T&&n&&n.id===e&&(y("["+l.id+"] "+e+" is ready for coupling"),T=!0,A=n.data,R=A.browser!==l.attributes.browser,b("target.ready"))}function z(){y("captured pc disconnect, monitoring connection status"),p=setTimeout(function(){y("manually closing connection after disconnect timeout"),w("failed"),o(n)},x),w.on("statechange",K),w("failing")}function K(){if(y("connection state changed to: "+n.iceConnectionState),!(f.indexOf(n.iceConnectionState)>=0)){if(G(),s.indexOf(n.iceConnectionState)>=0)return w("closed");w.once("disconnect",z)}}function H(){if(!M||_)return M?void(M&&_&&!I&&(y("renegotiation is required, but deferring until existing connection is established"),I=!0)):W()}function J(){if(m&&clearTimeout(m),"closed"!==n.signalingState)return P()?(y("["+l.id+"] "+e+" has requested the ability to create the offer"),M=!0,l.to(e).send("/requestoffer")):(y("["+l.id+"] negotiation request denied, not in a state to accept new offers [coupling = "+M+", creatingOffer = "+F+", awaitingAnswer = "+D+", "+n.signalingState+"]"),Z(),void(m=setTimeout(J,500)))}function X(n,t){if(y("["+l.id+"] "+t.id+" has requested a negotiation"),t&&t.id===e){if(b("negotiate.request",t.id,n),n&&n.requestOfferer)return J();H()}}function Y(){_&&(b("negotiate.renegotiate"),j=!0,H())}function G(){var e=!!p&&-1===s.indexOf(n.iceConnectionState);w.off("statechange",K),y("reset disconnect timer, state: "+n.iceConnectionState),clearTimeout(p),p=void 0,e&&w("recovered")}function Q(n){if(n&&n.id===e)return y("["+l.id+"] "+e+" has requested that the offer be sent ["+n.id+"]"),q()}function Z(){!M||F||D||(y("["+l.id+"] coupling completed to "+e),M=!1)}return _&&(n.onnegotiationneeded=Y),n.onicecandidate=function(n){var t=n.candidate&&a(n.candidate);n.candidate?(G(),b("ice.local",t),l.to(e).send("/candidate",t),S=!1):S||(S=!0,b("ice.gathercomplete"),l.to(e).send("/endofcandidates",{}))},k.on("sdp.local",function(n){l.to(e).send("/sdp",n)}),l.on("sdp",$),l.on("candidate",N),l.on("endofcandidates",U),l.on("ready",V),l.on("message:sdp",$),l.on("message:candidate",N),l.on("message:endofcandidates",U),l.on("message:ready",V),L?(l.on("negotiate",X),l.on("message:negotiate",X)):(l.on("requestoffer",Q),l.on("message:requestoffer",Q)),w.once("closed",function(){y("captured pc close, iceConnectionState = "+n.iceConnectionState),B()}),w.once("disconnected",z),w.createOffer=W,function n(){clearTimeout(v),l.to(e).send("/ready"),T||(v=setTimeout(n,E))}(),y("["+l.id+"] ready for coupling to "+e),h=setTimeout(function(){y("["+l.id+"] failed to connect to "+e+" within allocated time"),w("failed"),B()},C),w.once("connected",function(){clearTimeout(h)}),w.on("signalingchange",function(n,t){y("["+l.id+"] signaling state "+t+" to "+e)}),w.on("signaling:stable",function(){Z(),I&&(y("signalling stable and a negotiation is required, so creating one"),W())}),w.stop=B,w.requestRenegotiation=Y,w.abort=function(){h&&clearTimeout(h),B(),w("aborted")},w.destroy=function(){w.clear(),k.clear()},w}},function(n,e,t){var r=t(1),i=t(4),o=t(37),u=t(38).Promise,c=t(6)("sdp","type"),a=t(13),s=t(42),f=t(43),l=100,d=1e3,p=["createOffer","setLocalDescription","createAnswer","setRemoteDescription","addIceCandidate"],v={setLocalDescription:"setlocaldesc",setRemoteDescription:"setremotedesc",createOffer:"offer",createAnswer:"answer"},h={data:"application"},m=["have-remote-offer","have-local-pranswer"];function g(n,e){return n&&"function"==typeof n?n:e}n.exports=function(n,e){e=e||{};var y=new o(function(n,e){var t=[n,e],r=t.map(D),i=t.map(function(n,e){var t=r[e];return t?n.priority:d});return i[1]-i[0]}),w=t(0)("",(e||{}).logger),b=(e||{}).priorities||p,_=(e||{}).interval||10,S=i((e||{}).plugins),x=0,T=w.bind(w,"fail"),A=(e||{}).sdpfilter||(e||{}).sdpFilter,E="always"===e.sdpParseMode,C=(e||{}).RTCSessionDescription||r("RTCSessionDescription"),O=(e||{}).RTCIceCandidate||r("RTCIceCandidate"),L=g(S&&S.createIceCandidate,function(n){return new O(n)}),k=g(S&&S.createSessionDescription,function(n){return new C(n)});w._qid=Math.floor(1e5*Math.random());function M(){var e,t=!y.isEmpty()&&y.peek(),r=t&&D(t);if(x=0,!r)return t&&((e=t)&&e.aborted||function(n){return"number"==typeof n.ttl&&n.start+n.ttl<Date.now()}(t))&&(w("task.expire",t),y.deq()),!y.isEmpty()&&F(n)&&R();(t=y.deq()).fn(t,function(n){var e=t.fail||T,r=t.pass,i=t.name;return n?(console.error(i+" task failed: ",n),e(n)):("function"==typeof r&&r.apply(t,[].slice.call(arguments,1)),t.immediate?(x&&clearTimeout(x),M()):void R())})}function I(n,e,t){return function(){var r=[].slice.call(arguments);t&&"function"==typeof t.processArgs&&(r=r.map(t.processArgs));var i=b.indexOf(n);return new u(function(o,u){y.enq({args:r,name:n,fn:e,priority:i>=0?i:l,immediate:t.immediate,aborted:!1,start:Date.now(),checks:[F].concat((t||{}).checks||[]),pass:function(){t&&t.pass&&t.pass.apply(this,arguments),o()},fail:function(){t&&t.fail&&t.fail.apply(this,arguments),u()}}),R()})}}function j(t,i){var o=n[t.name],u=v[t.name]||(t.name||"").toLowerCase(),c=[function(){w.apply(w,[["negotiate",u,"ok"],t.name].concat(t.args)),i.apply(null,[null].concat([].slice.call(arguments)))},function(n){w.apply(w,["negotiate.error",t.name,n].concat(t.args)),i(n)}],a="createOffer"===t.name;if(!o)return i(new Error('cannot call "'+t.name+'" on RTCPeerConnection'));w.apply(w,["negotiate."+u].concat(t.args)),o.apply(n,t.args.concat(c).concat(a?function(){var n={offertoreceivevideo:"OfferToReceiveVideo",offertoreceiveaudio:"OfferToReceiveAudio",icerestart:"IceRestart",voiceactivitydetection:"VoiceActivityDetection"},t={OfferToReceiveVideo:!0,OfferToReceiveAudio:!0};r.moz&&(n={offertoreceivevideo:"offerToReceiveVideo",offertoreceiveaudio:"offerToReceiveAudio",icerestart:"iceRestart",voiceactivitydetection:"voiceActivityDetection"},t={offerToReceiveVideo:!0,offerToReceiveAudio:!0});return Object.keys(e||{}).forEach(function(r){n[r.toLowerCase()]&&(t[n[r.toLowerCase()]]=e[r])}),r.moz?t:{mandatory:t}}():[]))}function F(n){return"closed"!==n.signalingState}function D(e){return(e.checks||[]).reduce(function(t,r){return t&&r(n,e)},!0)}function R(){x||(x=setTimeout(M,_))}return w.addIceCandidate=I("addIceCandidate",function(t,r){var i=t.args[0];if(e&&e.filterCandidate&&!e.filterCandidate(i))return w("ice.remote.filtered",o),r();var o=i&&i.candidate&&L(i);if(!o)return r();n.addIceCandidate(o,function(){w("ice.remote.applied",o),r()},function(n){w("ice.remote.invalid",o),r(n)})},{processArgs:function(n){for(;n&&n.candidate&&n.candidate.candidate;)n=n.candidate;return n},checks:[function(n,e){return n.__hasDesc||(n.__hasDesc=!!n.remoteDescription)},function(n,e){var t=e.__valid||(e.__valid=0===a(e.args[0]).length);return t||(e.aborted=!0),t},function(n,e){var t=e.args[0]&&e.args[0].sdpMid;if(""===(t=h[t]||t))return!0;if(E||!n.__mediaTypes){var r=f(n.remoteDescription&&n.remoteDescription.sdp),i=r.getMediaTypes();i&&i.length>0&&(n.__mediaTypes=i);var o=r.getMediaIDs();o&&o.length>0&&(n.__mediaIDs=o)}var u=n.__mediaIDs&&n.__mediaIDs.indexOf(t)>=0||n.__mediaTypes&&n.__mediaTypes.indexOf(t)>=0;return u||(e.aborted=!0),u}],ttl:5e3,immediate:!0}),w.setLocalDescription=I("setLocalDescription",j,{processArgs:function(e){var t=[],r=e&&s(e.sdp,{collector:t});return e&&r!==e.sdp&&(console.info("invalid lines removed from sdp: ",t),e.sdp=r),"function"==typeof A&&(e.sdp=A(e.sdp,n)),e},pass:function(){w("sdp.local",c(this.args[0]))}}),w.setRemoteDescription=I("setRemoteDescription",j,{processArgs:k,pass:function(){if((n.__mediaIDs||n.__mediaTypes)&&(n.__mediaIDs=void 0,n.__mediaTypes=void 0),m.indexOf(n.signalingState)>=0)return w.createAnswer()}}),w.createOffer=I("createOffer",j,{checks:[function(n){return"have-local-offer"!==n.signalingState}],pass:w.setLocalDescription}),w.createAnswer=I("createAnswer",j,{pass:w.setLocalDescription}),w}},function(n,e){function t(n){this._comparator=n||t.DEFAULT_COMPARATOR,this._elements=[]}n.exports=t,t.DEFAULT_COMPARATOR=function(n,e){return"number"==typeof n&&"number"==typeof e?n-e:(n=n.toString())==(e=e.toString())?0:n>e?1:-1},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.peek=function(){if(this.isEmpty())throw new Error("PriorityQueue is empty");return this._elements[0]},t.prototype.deq=function(){var n=this.peek(),e=this._elements.pop(),t=this.size();if(0===t)return n;this._elements[0]=e;for(var r=0;r<t;){var i=r,o=2*r+1,u=2*r+2;if(o<t&&this._compare(o,i)>=0&&(i=o),u<t&&this._compare(u,i)>=0&&(i=u),i===r)break;this._swap(i,r),r=i}return n},t.prototype.enq=function(n){for(var e=this._elements.push(n),t=e-1;t>0;){var r=Math.floor((t-1)/2);if(this._compare(t,r)<=0)break;this._swap(r,t),t=r}return e},t.prototype.size=function(){return this._elements.length},t.prototype.forEach=function(n){return this._elements.forEach(n)},t.prototype._compare=function(n,e){return this._comparator(this._elements[n],this._elements[e])},t.prototype._swap=function(n,e){var t=this._elements[n];this._elements[n]=this._elements[e],this._elements[e]=t}},function(n,e,t){(function(e,r){var i;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
i=function(){"use strict";function n(n){return"function"==typeof n}var i=Array.isArray?Array.isArray:function(n){return"[object Array]"===Object.prototype.toString.call(n)},o=0,u=void 0,c=void 0,a=function(n,e){h[o]=n,h[o+1]=e,2===(o+=2)&&(c?c(m):_())},s="undefined"!=typeof window?window:void 0,f=s||{},l=f.MutationObserver||f.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function v(){var n=setTimeout;return function(){return n(m,1)}}var h=new Array(1e3);function m(){for(var n=0;n<o;n+=2){(0,h[n])(h[n+1]),h[n]=void 0,h[n+1]=void 0}o=0}var g,y,w,b,_=void 0;function S(n,e){var t=arguments,r=this,i=new this.constructor(A);void 0===i[T]&&U(i);var o,u=r._state;return u?(o=t[u-1],a(function(){return B(u,i,o,r._result)})):R(r,i,n,e),i}function x(n){if(n&&"object"==typeof n&&n.constructor===this)return n;var e=new this(A);return I(e,n),e}d?_=function(){return e.nextTick(m)}:l?(y=0,w=new l(m),b=document.createTextNode(""),w.observe(b,{characterData:!0}),_=function(){b.data=y=++y%2}):p?((g=new MessageChannel).port1.onmessage=m,_=function(){return g.port2.postMessage(0)}):_=void 0===s?function(){try{var n=t(40);return u=n.runOnLoop||n.runOnContext,function(){u(m)}}catch(n){return v()}}():v();var T=Math.random().toString(36).substring(16);function A(){}var E=void 0,C=1,O=2,L=new q;function k(n){try{return n.then}catch(n){return L.error=n,L}}function M(e,t,r){t.constructor===e.constructor&&r===S&&t.constructor.resolve===x?function(n,e){e._state===C?F(n,e._result):e._state===O?D(n,e._result):R(e,void 0,function(e){return I(n,e)},function(e){return D(n,e)})}(e,t):r===L?D(e,L.error):void 0===r?F(e,t):n(r)?function(n,e,t){a(function(n){var r=!1,i=function(n,e,t,r){try{n.call(e,t,r)}catch(n){return n}}(t,e,function(t){r||(r=!0,e!==t?I(n,t):F(n,t))},function(e){r||(r=!0,D(n,e))},n._label);!r&&i&&(r=!0,D(n,i))},n)}(e,t,r):F(e,t)}function I(n,e){var t;n===e?D(n,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(t=e)||"object"==typeof t&&null!==t?M(n,e,k(e)):F(n,e)}function j(n){n._onerror&&n._onerror(n._result),P(n)}function F(n,e){n._state===E&&(n._result=e,n._state=C,0!==n._subscribers.length&&a(P,n))}function D(n,e){n._state===E&&(n._state=O,n._result=e,a(j,n))}function R(n,e,t,r){var i=n._subscribers,o=i.length;n._onerror=null,i[o]=e,i[o+C]=t,i[o+O]=r,0===o&&n._state&&a(P,n)}function P(n){var e=n._subscribers,t=n._state;if(0!==e.length){for(var r=void 0,i=void 0,o=n._result,u=0;u<e.length;u+=3)r=e[u],i=e[u+t],r?B(t,r,i,o):i(o);n._subscribers.length=0}}function q(){this.error=null}var W=new q;function B(e,t,r,i){var o=n(r),u=void 0,c=void 0,a=void 0,s=void 0;if(o){if((u=function(n,e){try{return n(e)}catch(n){return W.error=n,W}}(r,i))===W?(s=!0,c=u.error,u=null):a=!0,t===u)return void D(t,new TypeError("A promises callback cannot return that same promise."))}else u=i,a=!0;t._state!==E||(o&&a?I(t,u):s?D(t,c):e===C?F(t,u):e===O&&D(t,u))}var N=0;function U(n){n[T]=N++,n._state=void 0,n._result=void 0,n._subscribers=[]}function $(n,e){this._instanceConstructor=n,this.promise=new n(A),this.promise[T]||U(this.promise),i(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?F(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&F(this.promise,this._result))):D(this.promise,new Error("Array Methods must be provided an Array"))}function V(n){this[T]=N++,this._result=this._state=void 0,this._subscribers=[],A!==n&&("function"!=typeof n&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof V?function(n,e){try{e(function(e){I(n,e)},function(e){D(n,e)})}catch(e){D(n,e)}}(this,n):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function z(){var n=void 0;if(void 0!==r)n=r;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=n.Promise;if(e){var t=null;try{t=Object.prototype.toString.call(e.resolve())}catch(n){}if("[object Promise]"===t&&!e.cast)return}n.Promise=V}return $.prototype._enumerate=function(){for(var n=this.length,e=this._input,t=0;this._state===E&&t<n;t++)this._eachEntry(e[t],t)},$.prototype._eachEntry=function(n,e){var t=this._instanceConstructor,r=t.resolve;if(r===x){var i=k(n);if(i===S&&n._state!==E)this._settledAt(n._state,e,n._result);else if("function"!=typeof i)this._remaining--,this._result[e]=n;else if(t===V){var o=new t(A);M(o,n,i),this._willSettleAt(o,e)}else this._willSettleAt(new t(function(e){return e(n)}),e)}else this._willSettleAt(r(n),e)},$.prototype._settledAt=function(n,e,t){var r=this.promise;r._state===E&&(this._remaining--,n===O?D(r,t):this._result[e]=t),0===this._remaining&&F(r,this._result)},$.prototype._willSettleAt=function(n,e){var t=this;R(n,void 0,function(n){return t._settledAt(C,e,n)},function(n){return t._settledAt(O,e,n)})},V.all=function(n){return new $(this,n).promise},V.race=function(n){var e=this;return i(n)?new e(function(t,r){for(var i=n.length,o=0;o<i;o++)e.resolve(n[o]).then(t,r)}):new e(function(n,e){return e(new TypeError("You must pass an array to race."))})},V.resolve=x,V.reject=function(n){var e=new this(A);return D(e,n),e},V._setScheduler=function(n){c=n},V._setAsap=function(n){a=n},V._asap=a,V.prototype={constructor:V,then:S,catch:function(n){return this.then(null,n)}},z(),V.polyfill=z,V.Promise=V,V},n.exports=i()}).call(this,t(5),t(39))},function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(n,e){},function(n,e){n.exports=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(?:(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){6})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:::(?:(?:(?:[0-9a-fA-F]{1,4})):){5})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:(?:[0-9a-fA-F]{1,4})):){4})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,1}(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:(?:[0-9a-fA-F]{1,4})):){3})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,2}(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:(?:[0-9a-fA-F]{1,4})):){2})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,3}(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:[0-9a-fA-F]{1,4})):)(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,4}(?:(?:[0-9a-fA-F]{1,4})))?::)(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,5}(?:(?:[0-9a-fA-F]{1,4})))?::)(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,6}(?:(?:[0-9a-fA-F]{1,4})))?::))))$/},function(n,e,t){var r=[[/^(a\=candidate.*)$/,t(13)]],i=/(\r?\n|\\r\\n)/;n.exports=function(n,e){var t=function(n){var e=i.exec(n);return e&&e[0]}(n),o=n.split(t),u=(e||{}).collector;return(o=o.filter(function(n){var e=r.reduce(function(e,t,r){return void 0!==e?e:t[0].exec(n)&&{line:n.replace(t[0],"$1"),fn:t[1]}},void 0),t=e?e.fn(e.line):[];return u&&t.forEach(function(n){u.push(n)}),0===t.length})).join(t)}},function(n,e,t){"use strict";var r=t(44),i=t(6),o=t(47),u=/\r?\n/,c=/\r?\n$/,a=["a","c","b","k"],s=t(48);n.exports=function(n){var e,t={},f=[],l=n.split(u).filter(Boolean).map(function(n){return n.split("=")}),d=(r(l.filter(function(n){return n[0]&&a.indexOf(n[0])<0}).map(i(0))),t.findLine=function(n,e){var t=f.filter(function(e){return e[0]===n})[e||0];return t&&t[1]});return l.forEach(function(n){var t=s[n[0]];t?e=t(f,n):e?e=e(n):f.push(n)}),t.addIceCandidate=function(n){var e=(n||{}).lineIndex||(n||{}).sdpMLineIndex,t=void 0!==e&&d("m",e),r=(n||{}).candidate;t&&r&&t.childlines.push(r.replace(c,"").split("="))},t.getMediaTypes=function(){return f.filter(function(n){return"m"===n[0]&&n[1]&&n[1].def}).map(function(n){return n[1].def.split(/\s/)[0]})},t.getMediaIDs=function(){return f.filter(function(n){return"m"===n[0]&&n[1]&&n[1].childlines&&n[1].childlines.length>0}).map(function(n){for(var e=n[1].childlines,t=n[1].def.split(/\s/)[0],r=0;r<e.length;r++){var i=e[r][1].split(":");if(i.length>0&&"mid"===i[0]){t=i[1];break}}return t})},t.toString=function(){return f.map(function(n){return"function"==typeof n[1].toArray?n[1].toArray():[n]}).reduce(o).map(function(n){return n.join("=")}).join("\r\n")+"\r\n"},t}},function(n,e,t){n.exports=t(45)(t(46))},function(n,e){n.exports=function(n){return function(e){for(var t=[],r=0,i=e.length;r<i;r++){for(var o=!1,u=t.length;u--;)o=o||n(e[r],t[u]);o||(t[t.length]=e[r])}return t}}},function(n,e){n.exports=function(n,e){return arguments.length>1?n===e:function(e){return n===e}}},function(n,e){n.exports=function(n,e){return(n=Array.isArray(n)?n:[n]).concat(e)}},function(n,e,t){"use strict";e.m=function(n,e){var t={def:e[1],childlines:[],toArray:function(){return[["m",t.def]].concat(t.childlines)}};return n.push(["m",t]),function n(e){return t.childlines.push(e),n}}},function(n,e,t){"use strict";var r=t(0),i={completed:"connected"},o=["signalingstatechange","iceconnectionstatechange"];function u(n){return i[n]||n}n.exports=function(n,e,t,i){var c,a,s,f=r("",i),l=!1;function d(){var e=n.iceConnectionState,t=u(e),r=n.signalingState;f("statechange",n,t),f("connectionstatechange",n,e),c!==t&&(f(t),c=t),a!==e&&(f("connectionstate:"+e),a=e),"closed"!==t||l||p(),s!==r&&(f("signalingchange",n,r,s),f("signaling:"+r,n,r,s),s=r)}function p(){l=!0,f("closed")}return n.onclose=p,o.forEach(function(e){n["on"+e]=d}),f.close=function(){n.onclose=null,o.forEach(function(e){n["on"+e]=null})},f.checkState=d,f.destroy=function(){f.clear()},n?(c=u(n.iceConnectionState),f):f}},function(n,e,t){"use strict";n.exports=function(n,e,t){var r,i,o,u=!1!==(t||{}).leading?0:Date.now(),c=(t||{}).trailing;function a(){n.apply(o,i||[]),u=Date.now()}return c=c||void 0===c,function(){var t=Date.now(),s=t-u;if(clearTimeout(r),s<e)return i=[].slice.call(arguments,0),o=this,c&&(r=setTimeout(a,e-s));u=t,n.apply(this,arguments)}}},function(n,e,t){n.exports=function(n){var e=(n||{}).signaller,r=(n||{}).messenger||t(52);return"string"==typeof e||e instanceof String?t(59)(r(e,n),n):e}},function(n,e,t){var r=t(2);n.exports=function(n,e){return t(53)(n,r({endpoints:(e||{}).endpoints||["/"]},e))}},function(n,e,t){var r="undefined"!=typeof window&&window.WebSocket||t(54),i=t(55),o=t(56),u=(t(12),/\/$/),c=[];n.exports=function(n,e){var t=(e||{}).timeout||1e3,a=(e||{}).failcodes||c,s=((e||{}).endpoints||["/"]).map(function(e){return n.replace(u,"")+e});return function(u){var c,f,l,d,p,v=[].concat(s),h=!1;function m(){if(!h){if(0===v.length)return u(new Error("Unable to connect to url: "+n));(c=new r(i(v.shift()))).addEventListener("message",g),c.addEventListener("error",w),c.addEventListener("close",y),c.addEventListener("open",b),d=c.removeEventListener||c.removeListener,f=setTimeout(m,t)}}function g(){h||(clearTimeout(f),clearTimeout(l),d.call(c,"open",b),d.call(c,"close",y),d.call(c,"error",w),d.call(c,"message",g),h=!0,u(null,p,o.sink(c,e)))}function y(n){if(!n.wasClean||!(void 0===n.code||a.indexOf(n.code)<0))return w();clearTimeout(l),clearTimeout(f)}function w(){clearTimeout(l),clearTimeout(f),m()}function b(){p=o.source(c,e),l=setTimeout(g,100)}m()}}},function(n,e){n.exports=ws},function(n,e){var t=/^http(.*)$/;n.exports=function(n,e){var r=(e||{}).current||"undefined"!=typeof location&&location.href,i=r&&r.slice(0,r.indexOf(":")),o=(e||{}).insecure;return"//"==n.slice(0,2)?!i||"file:"===i?(o?"ws:":"wss:")+n:i.replace(t,"ws$1")+":"+n:n.replace(t,"ws$1")}},function(n,e,t){(e=n.exports=function(n,t){var r=n.upgradeReq||{};return{source:e.source(n),sink:e.sink(n,t),headers:r.headers,url:r.url,upgrade:r.upgrade,method:r.method}}).source=t(57),e.sink=t(58)},function(n,e,t){var r=t(15);n.exports=function(n){var e,t,i=[];return n.addEventListener("message",function(n){if(e)return e(null,n.data);i.push(n.data)}),n.addEventListener("close",function(n){if(!t)return e?e(t=!0):void 0}),n.addEventListener("error",function(n){t||(t=n,e&&e(t))}),function(o,u){return e=null,t?u(t):o?(e=u,n.close()):void r(n,function(n){return n?u(t=n):t&&!0!==t?u(t):i.length>0?u(null,i.shift()):t?u(!0):void(e=u)})}}},function(n,e,t){(function(e){var r=t(15);n.exports=function(n,t){return function(i){var o=!1!==(t=t||{}).closeOnEnd,u="function"==typeof t?t:t.onClose;i(null,function t(c,a){c?o&&n.readyState<=1&&(u&&n.addEventListener("close",function(n){if(n.wasClean)u();else{var e=new Error("ws error");e.event=n,u(e)}}),n.close()):r(n,function(r){if(r)return i(r,function(){});n.send(a),e.nextTick(function(){i(null,t)})})})}}}).call(this,t(5))},function(n,e,t){"use strict";t(1),t(2),t(0),t(7),t(16);var r=t(60),i=(t(19),t(22),t(19)),o=0,u="6.3.0";n.exports=function(n,e){var c=(e||{}).autoconnect,a=(e||{}).reconnect,s=i(),f=0,l=t(66)(e,function(n){s.push(n),v!==o||void 0!==c&&!c||m()}),d=!1,p=0,v=o;function h(){(void 0===a||a)&&setTimeout(m,50)}var m=l.connect=function(){1!==v&&(v=1,n(function(n,e,t){if(n)return v=o,l("error",n);f+=1,v=2,r(e,r.through(null,function(){s=i(),v=o,l("disconnected")}),r.drain(l._process)),r(s,t),l.removeListener("disconnected",h),l.on("disconnected",h),l("connected"),d&&f>1&&l._announce()}))};return l.announce=function(n){return d=!0,l._update(n),clearTimeout(p),p=setTimeout(l._announce,(e||{}).announceDelay||10)},l.leave=l.close=function(){l.send("/leave",{id:l.id}),l.removeListener("disconnected",h),l.removeListener("connected",l._announce),s.end(),v=o},l._update({agent:"signaller@"+u}),(void 0===c||c)&&m(),l}},function(n,e,t){var r=t(17),i=t(18),o=t(61),u=t(8);function c(n){return"function"==typeof n}e=n.exports=function n(){var e,t=[].slice.call(arguments);if((e=t[0])&&("Through"===e.type||1===e.length))return function(e){return t.unshift(e),n.apply(null,t)};var r=t.shift();function i(){var n=t.shift();return null==n?i():c(n)?n:function(e){return n.sink(e),n.source}}for(c(r.source)&&(r=r.source);t.length;)r=i()(r);return r};for(var a in r)e[a]=u.Source(r[a]);for(var a in o)e[a]=u.Through(o[a]);for(var a in i)e[a]=u.Sink(i[a]);var s=t(62)(e);for(var a in s)e[a]=s[a];e.Duplex=e.Through=e.pipeable=u.Through,e.Source=e.pipeableSource=u.Source,e.Sink=e.pipeableSink=u.Sink},function(n,e,t){(function(n){var r=t(8),i=t(17),o=t(18),u=r.prop,c=r.id,a=r.tester,s=(e.map=function(n,e){return e=u(e)||c,function(t,r){n(t,function(t,i){try{i=t?null:e(i)}catch(e){return n(e,function(){return r(e)})}r(t,i)})}},e.asyncMap=function(n,e){return e?function(t,r){if(t)return n(t,r);n(null,function(n,t){if(n)return r(n,t);e(t,r)})}:n},e.paraMap=function(n,e,t){if(!e)return n;var r,i=!1,o=[];function u(){if(r){var n=r;return r=null,o.length?n(null,o.shift()):i&&!a?n(i):void(r=n)}}function c(){n(null,function(n,r){if(n)return i=n,u();a++,e(r,function(n,e){a--,o.push(e),u()}),a<t&&!i&&c()})}var a=0;return function(e,t){if(e)return n(e,t);r=t,o.length||i?(c(),u()):c()}},e.filter=function(n,e){return e=a(e),function t(r,i){for(var o,u=!0;u;)u=!1,o=!0,n(r,function(n,r){if(!n&&!e(r))return o?u=!0:t(n,i);i(n,r)}),o=!1}}),f=(e.filterNot=function(n,e){return e=a(e),s(n,function(n){return!e(n)})},e.through=function(n,e,t){var r=!1;function i(n){!r&&t&&(r=!0,t(!0===n?null:n))}return function(t,r){return t&&i(t),n(t,function(n,t){n?i(n):e&&e(t),r(n,t)})}},e.take=function(n,e,t){var r=(t=t||{}).last||!1,i=!1;if("number"==typeof e){r=!0;var o=e;e=function(){return--o}}function u(e){n(!0,function(n){r=!1,e(n||!0)})}return function(t,o){i?r?u(o):o(i):(i=t)?n(i,o):n(null,function(n,t){(i=i||n)?o(i):e(t)?o(null,t):(i=!0,r?o(null,t):u(o))})}},e.unique=function(n,e,t){e=u(e)||c;var r={};return s(n,function(n){var i=e(n);return r[i]?!!t:(r[i]=!0,!t)})});e.nonUnique=function(n,e){return f(n,e,!0)},e.group=function(n,e){var t;e=e||5;var r=[];return function(i,o){return i?n(t=i,o):t?o(t):void n(null,function i(u,c){if(t=t||u){if(!r.length)return o(t);var a=r;return r=[],o(null,a)}if(r.push(c),r.length<e)return n(null,i);a=r;r=[],o(null,a)})}},e.flatten=function(n){var e;return function(t,r){function o(){e(null,function(e,t){!0===e?u():e?n(!0,function(n){r(e)}):r(null,t)})}function u(){n(null,function(n,t){if(n)return r(n);if(Array.isArray(t)||t&&"object"==typeof t)t=i.values(t);else if("function"!=typeof t)throw new Error("expected stream of streams");e=t,o()})}t?e?e(t,function(e){n(e||t,r)}):n(t,r):e?o():u()}},e.prepend=function(n,e){return function(t,r){if(null!==e){if(t)return n(t,r);var i=e;e=null,r(null,i)}else n(t,r)}},e._reduce=function(n,e,t){return function(r,i){return r?n(r,i):ended?i(ended):void o.drain(function(n){t=e(t,n)},function(n,e){ended=n||!0,n?i(ended):i(null,t)})(n)}},n.nextTick,e.highWaterMark=function(e,t){var r,i,o=[],u=[],c=!1;function a(){for(;u.length&&(o.length||r);)u.shift()(r,r?null:o.shift());!o.length&&i&&(r=i)}function s(){if(!(r||i||c||o.length>=t))return c=!0,e(r||i,function(n,e){c=!1,i=i||n,null!=e&&o.push(e),s(),a()})}return t=t||10,n.nextTick(s),function(n,e){r=r||n,u.push(e),s(),a()}},e.flatMap=function(n,e){e=e||c;var t,r=[];return function(i,o){return r.length?o(null,r.shift()):t?o(t):void n(i,function i(u,c){if(u)t=u;else for(var a=e(c);a&&a.length;)r.push(a.shift());r.length?o(null,r.shift()):t?o(t):n(null,i)})}}}).call(this,t(5))},function(n,e,t){var r=t(8),i=r.prop,o=r.id,u=r.maybeSink;n.exports=function(n){var e={},t=n.drain,r=(e.find=function(n,e){return u(function(e){var r=!1;return e?n=i(n)||o:(e=n,n=o),t(function(t){if(n(t))return r=!0,e(null,t),!1},function(n){r||e(!0===n?null:n,null)})},e)},e.reduce=function(n,e,r){return u(function(r){return t(function(t){e=n(e,t)},function(n){r(n,e)})},r)});e.collect=e.writeArray=function(n){return r(function(n,e){return n.push(e),n},[],n)},e.concat=function(n){return r(function(n,e){return n+e},"",n)};return e}},function(n,e,t){var r=t(20),i=t(21),o=t(64),u=t(9);for(var c in r)e[c]=u.Source(r[c]);for(var c in o)e[c]=u.Through(o[c]);for(var c in i)e[c]=u.Sink(i[c]);var a=t(65)(e);for(var c in a)e[c]=a[c];e.Duplex=e.Through=e.pipeable=u.Through,e.Source=e.pipeableSource=u.Source,e.Sink=e.pipeableSink=u.Sink},function(n,e,t){(function(n){var r=t(9),i=t(20),o=t(21),u=r.prop,c=r.id,a=r.tester,s=(e.map=function(n,e){return e=u(e)||c,function(t,r){n(t,function(n,t){t=n?null:e(t);r(n,t)})}},e.asyncMap=function(n,e){return e?function(t,r){if(t)return n(t,r);n(null,function(n,t){if(n)return r(n,t);e(t,r)})}:n},e.paraMap=function(n,e,t){if(!e)return n;var r,i=!1,o=[];function u(){if(r){var n=r;return r=null,o.length?n(null,o.shift()):i&&!a?n(i):void(r=n)}}function c(){n(null,function(n,r){if(n)return i=n,u();a++,e(r,function(n,e){a--,o.push(e),u()}),a<t&&!i&&c()})}var a=0;return function(e,t){if(e)return n(e,t);r=t,o.length||i?(c(),u()):c()}},e.filter=function(n,e){return e=a(e),function t(r,i){n(r,function(n,r){if(!n&&!e(r))return t(n,i);i(n,r)})}}),f=(e.filterNot=function(n,e){return e=a(e),s(n,function(n){return!e(n)})},e.through=function(n,e,t){var r=!1;function i(n){!r&&t&&(r=!0,t(!0===n?null:n))}return function(t,r){return t&&i(t),n(t,function(n,t){n?i(n):e&&e(t),r(n,t)})}},e.take=function(n,e){var t=!1;if("number"==typeof e){var r=e;e=function(){return r--}}return function(r,i){return t?i(t):(t=r)?n(t,i):void n(null,function(r,o){if(t=t||r)return i(t);e(o)?i(null,o):(t=!0,n(!0,function(n,e){i(t,e)}))})}},e.unique=function(n,e,t){e=u(e)||c;var r={};return s(n,function(n){var i=e(n);return r[i]?!!t:(r[i]=!0,!t)})}),l=(e.nonUnique=function(n,e){return f(n,e,!0)},e.group=function(n,e){var t;e=e||5;var r=[];return function(i,o){return i?n(t=i,o):t?o(t):void n(null,function i(u,c){if(t=t||u){if(!r.length)return o(t);var a=r;return r=[],o(null,a)}if(r.push(c),r.length<e)return n(null,i);a=r;r=[],o(null,a)})}},e.flatten=function(n){var e;return function(t,r){function o(){e(null,function(n,e){n?u():r(null,e)})}function u(){n(null,function(n,t){if(n)return r(n);if(Array.isArray(t))t=i.values(t);else if("function"!=typeof t)throw new Error("expected stream of streams");e=t,o()})}e?o():u()}},e.prepend=function(n,e){return function(t,r){if(null!==e){if(t)return n(t,r);var i=e;e=null,r(null,i)}else n(t,r)}},e._reduce=function(n,e,t){return function(r,i){return r?n(r,i):ended?i(ended):void o.drain(function(n){t=e(t,n)},function(n,e){ended=n||!0,n?i(ended):i(null,t)})(n)}},n.nextTick);e.highWaterMark=function(n,e){var t,r=[],i=[],o=!1;function u(){for(;i.length&&(r.length||t);)i.shift()(t,t?null:r.shift())}function c(){if(!(t||o||r.length>=e))return o=!0,n(t,function(n,e){o=!1,t=t||n,null!=e&&r.push(e),c(),u()})}return e=e||10,l(c),function(n,e){t=t||n,i.push(e),c(),u()}}}).call(this,t(5))},function(n,e,t){var r=t(9),i=r.prop,o=r.id,u=r.maybeSink;n.exports=function(n){var e={},t=n.drain,r=(e.find=function(n,e){return u(function(e){var r=!1;return e?n=i(n)||o:(e=n,n=o),t(function(t){if(n(t))return r=!0,e(null,t),!1},function(n){r||e(!0===n?null:n,null)})},e)},e.reduce=function(n,e,r){return u(function(r){return t(function(t){e=n(e,t)},function(n){r(n,e)})},r)});e.collect=e.writeArray=function(n){return r(function(n,e){return n.push(e),n},[],n)};return e}},function(n,e,t){var r=t(1),i=t(2),o=t(7),u=t(16),c=t(0),a=t(22);n.exports=function(n,e){var s=(n||{}).autoreply,f=c("",(n||{}).logger),l=f.peers=o({}),d=f.attributes={browser:r.browser,browserVersion:r.browserVersion,agent:"unknown"};return f.id=(n||{}).id||u(),f.isMaster=function(n){var e=l.get(n);return e&&0!==e.roleIdx},f.send=function(){var n=[].slice.call(arguments);n.splice(1,0,f.id),e(a(n))},f.to=function(n){return{send:(t=["/to",n],function(){var n=t.concat([].slice.call(arguments));n.splice(3,0,f.id),e(a(n))})};var t},f._announce=function(){f.send("/announce",d),f("local:announce",d)},f._leave=function(){f.send("/leave",{id:f.id})},f._process=t(67)(f),f._update=function(n){i(d,n,{id:f.id})},f.autoreply=void 0===s||s,f}},function(n,e,t){var r=t(68);n.exports=function(n,e){var i={announce:t(69)(n,e)};return function(e){var t,o,u,c,a=e,s=!0,f=!1;if(!a||"primus"!==a.slice(0,6)){var l=n.id+"";if("/to"===a.slice(0,3)&&(s=a.slice(4,l.length+4)===l)&&(f=!0,t=(t=a.slice(5+l.length).split("|").map(r)).map(r)),s&&(n("rawdata",a),"string"==typeof(t=t||a.split("|").map(r))[0])){if((u=t[1])===n.id)return console.warn("got data from ourself, discarding");c=n.peers.get(u)||u,"/"===t[0].charAt(0)?"function"==typeof(o=i[t[0].slice(1)])?o(t.slice(2),t[0].slice(1),u,c,f):function(e,t,i){var o="message:"+e[0].slice(1),u=e.slice(2).map(r);n.apply(n,[o].concat(u).concat([t,i]))}(t,c,e):n("data",t.slice(0,1).concat(t.slice(2)),u,c,f)}}}}},function(n,e,t){"use strict";n.exports=function(n){var e,t,r="string"==typeof n||n instanceof String,i=/^\-?\d+\.?\d*$/;if(!r||n.length<2)return r&&i.test(n)?parseFloat(n):n;if("true"===n||"false"===n)return"true"===n;if("null"===n)return null;if(e=n.charAt(0),t=n.charAt(n.length-1),"{"==e&&"}"==t||"["==e&&"]"==t||'"'==e&&'"'==t)try{return JSON.parse(n)}catch(n){}return i.test(n)?parseFloat(n):n}},function(n,e,t){var r=t(2);n.exports=function(n){return function(e,t,i,o,u){var c,a=e[0];if(a&&a.id&&a.id!==n.id){if(!function(e){var t=r({allow:!0},e);return n("peer:filter",e.id,t),t.allow}(a))return;return c=n.peers.get(a.id),n("peer:connected",a.id,a),c?(r(c.data,a),n("peer:update",a,i)):(c={id:a.id,roleIdx:[a.id,n.id].sort().indexOf(a.id),data:{}},r(c.data,a),n.peers.set(a.id,c),n.autoreply&&!u&&n.to(a.id).send("/announce",n.attributes),n("peer:announce",a,c))}}}},function(n,e,t){(function(e){var r=t(10).logger("rtc-quickconnect"),i=t(14),o=t(7);n.exports=function(n,u){var c=o({}),a=t(23)(n.peers),s=t(71)(n,u);function f(e){var t=c.get(e);t&&(t.heartbeat&&t.heartbeat.stop(),t.monitor&&t.monitor.clear(),t.channels.keys().forEach(function(r){var i=t.channels.get(r),o=[e,i,r];n.apply(n,["channel:closed"].concat(o)),n.apply(n,["channel:closed:"+r].concat(o)),i.onopen=null}),t.streams.forEach(function(t){n("stream:removed",e,t)}),c.delete(e),n("call:ended",e,t.pc),i(t.pc))}function l(e){return function(t){n("stream:added",e,t,a(e))}}function d(n){var e=c.get(n);e&&e.pc&&(e.streams=[].concat(e.pc.getRemoteStreams()))}return c.create=function(e,t){var r=s.create(e),i={active:!1,signalling:!1,pc:t,channels:o({}),streams:[],lastping:Date.now(),heartbeat:r};return c.set(e,i),r.on("signalling:state",function(n){i.signalling=n}),n("call:created",e,t),i},c.end=f,c.ping=function(n){var e=c.get(n&&n.id);e&&(e.lastping=Date.now(),e.heartbeat.touch())},c.start=function(t,i,o){var u=c.get(t),a=[].concat(i.getRemoteStreams());u.active=!0,u.streams=[].concat(i.getRemoteStreams()),i.onaddstream=function(n){return function(e){r("peer "+n+" added stream"),d(n),l(n)(e.stream)}}(t),i.onremovestream=function(e){return function(t){r("peer "+e+" removed stream"),d(e),n("stream:removed",e,t.stream)}}(t),r(n.id+" - "+t+" call start: "+a.length+" streams"),n("call:started",t,i,o),u.lastping=Date.now(),u.heartbeat.once("disconnected",function(){return n("call:expired",t,u.pc),f(t)}),e.nextTick(function(){a.forEach(l(t))})},c}}).call(this,t(5))},function(n,e,t){var r=t(0);n.exports=function(n,e){return{create:function(t){var i=r(),o=(e||{}).heartbeat||2500,u=null,c=!1,a=0;function s(){var n=Date.now()-4*o,e=a>=n;c!==e&&(i(e?"connected":"disconnected"),i("signalling:state",e),c=e)}function f(){s(),n.to(t).send("/ping")}return i.start=function(){u&&i.stop(),0!==o&&(u=setInterval(f,o),f())},i.stop=function(){u&&clearInterval(u)},i.touch=function(){a=Date.now(),s()},i.updateDelay=function(n){o=n,i.start()},i.start(),i}}}},function(n,e){n.exports=function(n,e){var t=(n||{}).ice,r=(n||{}).iceServers;return"function"==typeof t?t(n,e):Array.isArray(t)?e(null,[].concat(t)):void e(null,[].concat(r||[]))}},function(n,e,t){(e=>{const t="function",r="isNode",i=document,o=(n,e)=>typeof n===e,u=(n,e)=>{null!==e&&(Array.isArray(e)?e.map(e=>u(n,e)):(c[r](e)||(e=i.createTextNode(e)),n.appendChild(e)))};function c(n,e){let a,s,f=arguments,l=1;if(n=c.isElement(n)?n:i.createElement(n),o(e,"object")&&!c[r](e)&&!Array.isArray(e))for(a in l++,e)s=e[a],a=c.attrMap[a]||a,o(a,t)?a(n,s):o(s,t)?n[a]=s:n.setAttribute(a,s);for(;l<f.length;l++)u(n,f[l]);return n}c.attrMap={},c.isElement=n=>n instanceof Element,c[r]=n=>n instanceof Node,c.proxy=new Proxy(c,{get:(n,e)=>(!(e in c)&&(c[e]=c.bind(null,e)),c[e])}),((e,t)=>{n.exports=e})(c)})()},function(n,e,t){var r=t(4),i=t(1);navigator.getUserMedia=navigator.getUserMedia||i.call(navigator,"getUserMedia"),n.exports=function(n,e,t){var i;function o(n){t(null,n)}function u(){return navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(n).then(o).catch(t):"function"!=typeof navigator.getUserMedia?t(new Error("getUserMedia not supported")):navigator.getUserMedia(n,o,t)}if("function"==typeof e&&(t=e,e={}),i=r((e||{}).plugins))return i.init(e,function(n){return n?t(n):"function"!=typeof navigator.getUserMedia?t(new Error("plugin does not support media capture")):void u()});u()}},function(n,e,t){var r=t(4),i=t(2),o=n.exports=function(n,e,t){var i,o,u,c,a,s;function f(n,e){return(e||{}).muted&&(n.muted=!0,n.setAttribute("muted","")),(e||{}).mirror&&n.setAttribute("data-mirrored",!0),n}if("function"==typeof e&&(t=e,e={}),i=r((e||{}).plugins))return i.init(e,function(r){return r?t(r):"function"!=typeof i.attach?t(new Error("plugin must support the attach function")):void t(null,f(i.attach(n,e),e))});t(null,(o=n,c=((u=e)||{}).autoplay,a="audio",s=(u||{}).el||(u||{}).target,o&&"function"==typeof o.getVideoTracks&&o.getVideoTracks().length>0&&(a="video"),s&&"function"!=typeof s.play&&(s=null),(s=s||document.createElement(a)).srcObject=n,(void 0===c||c)&&(s.setAttribute("autoplay",""),s.play()),f(s,u)))};o.local=function(n,e,t){"function"==typeof e&&(t=e,e={}),o(n,i({muted:!0,mirror:!0},e),t)}},function(n,e,t){"use strict";var r=/^\.([\w\-]+)$/,i=/^#([\w\-]+)$/,o=/^[\w\-]+$/;n.exports=function(n,e){return(e=e||document)===document&&i.test(n)?[e.getElementById(RegExp.$1)]:Array.prototype.slice.call(r.test(n)?e.getElementsByClassName(RegExp.$1):o.test(n)?e.getElementsByTagName(n):e.querySelectorAll(n))}},function(n,e,t){"use strict";var r=t(24),i=t(25),o=t(78);e.supported=function(n){return["ie","safari"].indexOf(n.browser.toLowerCase())>=0};e.init=o.init;e.attach=function(n,e){var t=(e||{}).el,u=t instanceof HTMLVideoElement||t instanceof HTMLAudioElement,c=u?t.parentNode:t,a=i.genId(),s=[{name:"pluginId",value:a},{name:"pageId",value:o.pageId},{name:"windowless",value:!0}];return function(n){var e=s.concat([{name:"streamId",value:n.id}]),o=r("object",{id:a,type:i.mimetype}),f=r("div",o);return n.enableSoundTracks(!0),e.forEach(function(n){o.appendChild(r("param",n))}),o.width=640,o.height=320,u&&(c.insertBefore(f),c.removeChild(t)),f}(n)},e.attachStream=function(n,e){var t=e.map(function(n){return"function"==typeof n.el&&n.el}).filter(Boolean);n.enableSoundTracks(!0),t.forEach(function(e){e(n)})},e.prepareElement=function(n,e){},e.createIceCandidate=function(n){return o.plugin&&o.plugin.ConstructIceCandidate((n||{}).sdpMid||"",(n||{}).sdpMLineIndex,(n||{}).candidate)},e.createConnection=function(n,e){var t=((n||{}).iceServers||[]).map(function(n){return n.hasCredentials=!!n.credential,n});return o.plugin&&o.plugin.PeerConnection(o.pageId,t,(e||{}).mandatory||null,(e||{}).optional||null)},e.createSessionDescription=function(n){return o.plugin&&o.plugin.ConstructSessionDescription(n.type,n.sdp)}},function(n,e,t){var r=t(24),i=t(25),o=t(79).EventEmitter,u=n.exports=new o,c=!1,a=!1,s=u.pluginId="__temasys_plugin_"+i.genId(),f=u.pageId=i.genId();function l(n,e,t){if(!u.plugin)return t&&t(new Error("plugin not loaded"));u.plugin.getUserMedia.call(u.plugin,n,function(n){"function"==typeof e&&e(n)},function(n){"function"==typeof t&&t(n)})}u.init=function(n,e){if("function"==typeof n&&(e=n,n={}),a)return e(null,u.plugin);var t;c?(u.plugin=(t=r("object",{width:0,height:0,type:i.mimetype,id:s}),[{name:"onload",value:"__load"+s},{name:"pluginId",value:s},{name:"windowless",value:!1},{name:"pageId",value:f}].forEach(function(n){t.appendChild(r("param",n))}),document.body.appendChild(t),t),u.once("init",function(){e(null,u.plugin)})):window.addEventListener("load",function(){u.init(e)})},window["__load"+s]=function(){window["__load"+s]=void 0,u.plugin&&(u.plugin.setPluginId(f,s),u.plugin.setLogFunction(console),navigator.getUserMedia=l,a=!0,u.emit("init"))},window.addEventListener("load",function(){c=!0})},function(n,e,t){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(n,e,t){return Function.prototype.apply.call(n,e,t)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:function(n){return Object.getOwnPropertyNames(n)};var u=Number.isNaN||function(n){return n!=n};function c(){c.init.call(this)}n.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var a=10;function s(n){return void 0===n._maxListeners?c.defaultMaxListeners:n._maxListeners}function f(n,e,t,r){var i,o,u,c;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(o=n._events)?(o=n._events=Object.create(null),n._eventsCount=0):(void 0!==o.newListener&&(n.emit("newListener",e,t.listener?t.listener:t),o=n._events),u=o[e]),void 0===u)u=o[e]=t,++n._eventsCount;else if("function"==typeof u?u=o[e]=r?[t,u]:[u,t]:r?u.unshift(t):u.push(t),(i=s(n))>0&&u.length>i&&!u.warned){u.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=e,a.count=u.length,c=a,console&&console.warn&&console.warn(c)}return n}function l(n,e,t){var r={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},i=function(){for(var n=[],e=0;e<arguments.length;e++)n.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,n))}.bind(r);return i.listener=t,r.wrapFn=i,i}function d(n,e,t){var r=n._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?t?[i.listener||i]:[i]:t?function(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}(i):v(i,i.length)}function p(n){var e=this._events;if(void 0!==e){var t=e[n];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function v(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n[r];return t}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(n){if("number"!=typeof n||n<0||u(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");a=n}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(n){if("number"!=typeof n||n<0||u(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},c.prototype.getMaxListeners=function(){return s(this)},c.prototype.emit=function(n){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var r="error"===n,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var u;if(e.length>0&&(u=e[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var a=i[n];if(void 0===a)return!1;if("function"==typeof a)o(a,this,e);else{var s=a.length,f=v(a,s);for(t=0;t<s;++t)o(f[t],this,e)}return!0},c.prototype.addListener=function(n,e){return f(this,n,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(n,e){return f(this,n,e,!0)},c.prototype.once=function(n,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(n,l(this,n,e)),this},c.prototype.prependOnceListener=function(n,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(n,l(this,n,e)),this},c.prototype.removeListener=function(n,e){var t,r,i,o,u;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(t=r[n]))return this;if(t===e||t.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[n],r.removeListener&&this.emit("removeListener",n,t.listener||e));else if("function"!=typeof t){for(i=-1,o=t.length-1;o>=0;o--)if(t[o]===e||t[o].listener===e){u=t[o].listener,i=o;break}if(i<0)return this;0===i?t.shift():function(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}(t,i),1===t.length&&(r[n]=t[0]),void 0!==r.removeListener&&this.emit("removeListener",n,u||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(n){var e,t,r;if(void 0===(t=this._events))return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[n]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[n]),this;if(0===arguments.length){var i,o=Object.keys(t);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=t[n]))this.removeListener(n,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(n,e[r]);return this},c.prototype.listeners=function(n){return d(this,n,!0)},c.prototype.rawListeners=function(n){return d(this,n,!1)},c.listenerCount=function(n,e){return"function"==typeof n.listenerCount?n.listenerCount(e):p.call(n,e)},c.prototype.listenerCount=p,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}}]);