!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},r.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var c=r.parseRtpMap(a),s=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(c.parameters=s.length?r.parseFmtp(s[0]):{},c.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)});var i=0;return t.codecs.forEach(function(e){e.maxptime>i&&(i=e.maxptime)}),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){n+=r.writeExtmap(e)}),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),c=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),s=c.length>0&&c[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===s&&(t=u[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:s,mechanism:a?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&s&&n.push({ssrc:s});var f=r.matchPrefix(e,"b=");return f.length&&(f=0===f[0].indexOf("b=TIAS:")?parseInt(f[0].substr(7),10):0===f[0].indexOf("b=AS:")?1e3*parseInt(f[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=f})),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";var r=n(0);function i(e,t,n,i,o){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var c=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=c;var s="msid:"+(i?i.id:"-")+" "+c+"\r\n";a+="a="+s,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),a=r(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}}),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function c(e,t){var n=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return n||e.addRemoteCandidate(t),!n}function s(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout(function(){t._dispatchEvent("track",o)})}var f=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){i[e]=o[e].bind(o)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw s("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)}),delete e.url,e.urls=i?r[0]:r,!!r.length}})}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(f.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(f.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),f.prototype.onicecandidate=null,f.prototype.onaddstream=null,f.prototype.ontrack=null,f.prototype.onremovestream=null,f.prototype.onsignalingstatechange=null,f.prototype.oniceconnectionstatechange=null,f.prototype.onconnectionstatechange=null,f.prototype.onicegatheringstatechange=null,f.prototype.onnegotiationneeded=null,f.prototype.ondatachannel=null,f.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},f.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},f.prototype.getConfiguration=function(){return this._config},f.prototype.getLocalStreams=function(){return this.localStreams},f.prototype.getRemoteStreams=function(){return this.remoteStreams},f.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},f.prototype.addTrack=function(t,n){if(this._isClosed)throw s("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find(function(e){return e.track===t}))throw s("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},f.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach(function(t){n.addTrack(t,e)});else{var r=e.clone();e.getTracks().forEach(function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),r.getTracks().forEach(function(e){n.addTrack(e,r)})}},f.prototype.removeTrack=function(t){if(this._isClosed)throw s("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find(function(e){return e.rtpSender===t});if(!n)throw s("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},f.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var n=t.getSenders().find(function(t){return t.track===e});n&&t.removeTrack(n)})},f.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},f.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},f.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},f.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var c=e.candidate,s=!c||0===Object.keys(c).length;if(s)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),c.component=1,c.ufrag=o.getLocalParameters().usernameFragment;var u=r.writeCandidate(c);a.candidate=Object.assign(a.candidate,r.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var f=r.getMediaSections(i._localDescription.sdp);f[a.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+f.join("");var p=i.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),s||i._dispatchEvent("icecandidate",a),p&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout(function(){a.forEach(function(e){o.onlocalcandidate(e)})},0)}},f.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},f.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},f.prototype._transceive=function(e,n,i){var a=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},f.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(s("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(s("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n}),i.transceivers.forEach(function(e,t){i._gather(e.mid,t)});else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var c=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var a=i.transceivers[t],s=a.iceGatherer,u=a.iceTransport,f=a.dtlsTransport,p=a.localCapabilities,l=a.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var d=r.getIceParameters(e,n),h=r.getDtlsParameters(e,n);c&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===u.state&&u.start(s,d,c?"controlling":"controlled"),"new"===f.state&&f.start(h));var v=o(p,l);i._transceive(a,v.codecs.length>0,!1)}})}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},f.prototype.setRemoteDescription=function(i){var f=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(s("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,f.signalingState)||f._isClosed)return Promise.reject(s("InvalidStateError","Can not set remote "+i.type+" in state "+f.signalingState));var p={};f.remoteStreams.forEach(function(e){p[e.id]=e});var l=[],d=r.splitSections(i.sdp),h=d.shift(),v=r.matchPrefix(h,"a=ice-lite").length>0,m=r.matchPrefix(h,"a=group:BUNDLE ").length>0;f.usingBundle=m;var g=r.matchPrefix(h,"a=ice-options:")[0];return f.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,d.forEach(function(a,s){var u=r.splitLines(a),d=r.getKind(a),g=r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length,y=u[0].substr(2).split(" ")[2],_=r.getDirection(a,h),C=r.parseMsid(a),S=r.getMid(a)||r.generateIdentifier();if(g||"application"===d&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))f.transceivers[s]={mid:S,kind:d,protocol:y,rejected:!0};else{var T,b,R,w,P,E,k,x,D;!g&&f.transceivers[s]&&f.transceivers[s].rejected&&(f.transceivers[s]=f._createTransceiver(d,!0));var I,O,j=r.parseRtpParameters(a);g||(I=r.getIceParameters(a,h),(O=r.getDtlsParameters(a,h)).role="client"),k=r.parseRtpEncodingParameters(a);var M=r.parseRtcpParameters(a),L=r.matchPrefix(a,"a=end-of-candidates",h).length>0,A=r.matchPrefix(a,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===i.type||"answer"===i.type)&&!g&&m&&s>0&&f.transceivers[s]&&(f._disposeIceAndDtlsTransports(s),f.transceivers[s].iceGatherer=f.transceivers[0].iceGatherer,f.transceivers[s].iceTransport=f.transceivers[0].iceTransport,f.transceivers[s].dtlsTransport=f.transceivers[0].dtlsTransport,f.transceivers[s].rtpSender&&f.transceivers[s].rtpSender.setTransport(f.transceivers[0].dtlsTransport),f.transceivers[s].rtpReceiver&&f.transceivers[s].rtpReceiver.setTransport(f.transceivers[0].dtlsTransport)),"offer"!==i.type||g){if("answer"===i.type&&!g){b=(T=f.transceivers[s]).iceGatherer,R=T.iceTransport,w=T.dtlsTransport,P=T.rtpReceiver,E=T.sendEncodingParameters,x=T.localCapabilities,f.transceivers[s].recvEncodingParameters=k,f.transceivers[s].remoteCapabilities=j,f.transceivers[s].rtcpParameters=M,A.length&&"new"===R.state&&(!v&&!L||m&&0!==s?A.forEach(function(e){c(T.iceTransport,e)}):R.setRemoteCandidates(A)),m&&0!==s||("new"===R.state&&R.start(b,I,"controlling"),"new"===w.state&&w.start(O)),!o(T.localCapabilities,T.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&T.sendEncodingParameters[0].rtx&&delete T.sendEncodingParameters[0].rtx,f._transceive(T,"sendrecv"===_||"recvonly"===_,"sendrecv"===_||"sendonly"===_),!P||"sendrecv"!==_&&"sendonly"!==_?delete T.rtpReceiver:(D=P.track,C?(p[C.stream]||(p[C.stream]=new e.MediaStream),n(D,p[C.stream]),l.push([D,P,p[C.stream]])):(p.default||(p.default=new e.MediaStream),n(D,p.default),l.push([D,P,p.default])))}}else{(T=f.transceivers[s]||f._createTransceiver(d)).mid=S,T.iceGatherer||(T.iceGatherer=f._createIceGatherer(s,m)),A.length&&"new"===T.iceTransport.state&&(!L||m&&0!==s?A.forEach(function(e){c(T.iceTransport,e)}):T.iceTransport.setRemoteCandidates(A)),x=e.RTCRtpReceiver.getCapabilities(d),t<15019&&(x.codecs=x.codecs.filter(function(e){return"rtx"!==e.name})),E=T.sendEncodingParameters||[{ssrc:1001*(2*s+2)}];var N,F=!1;if("sendrecv"===_||"sendonly"===_){if(F=!T.rtpReceiver,P=T.rtpReceiver||new e.RTCRtpReceiver(T.dtlsTransport,d),F)D=P.track,C&&"-"===C.stream||(C?(p[C.stream]||(p[C.stream]=new e.MediaStream,Object.defineProperty(p[C.stream],"id",{get:function(){return C.stream}})),Object.defineProperty(D,"id",{get:function(){return C.track}}),N=p[C.stream]):(p.default||(p.default=new e.MediaStream),N=p.default)),N&&(n(D,N),T.associatedRemoteMediaStreams.push(N)),l.push([D,P,N])}else T.rtpReceiver&&T.rtpReceiver.track&&(T.associatedRemoteMediaStreams.forEach(function(t){var n=t.getTracks().find(function(e){return e.id===T.rtpReceiver.track.id});n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)}),T.associatedRemoteMediaStreams=[]);T.localCapabilities=x,T.remoteCapabilities=j,T.rtpReceiver=P,T.rtcpParameters=M,T.sendEncodingParameters=E,T.recvEncodingParameters=k,f._transceive(f.transceivers[s],!1,F)}}}),void 0===f._dtlsRole&&(f._dtlsRole="offer"===i.type?"active":"passive"),f._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?f._updateSignalingState("have-remote-offer"):f._updateSignalingState("stable"),Object.keys(p).forEach(function(t){var n=p[t];if(n.getTracks().length){if(-1===f.remoteStreams.indexOf(n)){f.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout(function(){f._dispatchEvent("addstream",r)})}l.forEach(function(e){var t=e[0],r=e[1];n.id===e[2].id&&u(f,t,r,[n])})}}),l.forEach(function(e){e[2]||u(f,e[0],e[1],[])}),e.setTimeout(function(){f&&f.transceivers&&f.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},f.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},f.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},f.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},f.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},f.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},f.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(s("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter(function(e){return"audio"===e.kind}).length,a=n.transceivers.filter(function(e){return"video"===e.kind}).length,c=arguments[0];if(c){if(c.mandatory||c.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==c.offerToReceiveAudio&&(o=!0===c.offerToReceiveAudio?1:!1===c.offerToReceiveAudio?0:c.offerToReceiveAudio),void 0!==c.offerToReceiveVideo&&(a=!0===c.offerToReceiveVideo?1:!1===c.offerToReceiveVideo?0:c.offerToReceiveVideo)}for(n.transceivers.forEach(function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});o>0||a>0;)o>0&&(n._createTransceiver("audio"),o--),a>0&&(n._createTransceiver("video"),a--);var u=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach(function(i,o){var a=i.track,c=i.kind,s=i.mid||r.generateIdentifier();i.mid=s,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(c);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),u.headerExtensions.forEach(function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var f=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===c&&!f[0].rtx&&(f[0].rtx={ssrc:f[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,c)),i.localCapabilities=u,i.sendEncodingParameters=f}),"max-compat"!==n._config.bundlePolicy&&(u+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",n.transceivers.forEach(function(e,t){u+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,u+="a="+r.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))});var f=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(f)},f.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(s("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(s("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var a=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(a+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var c=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach(function(e,r){if(!(r+1>c)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var s;if(e.stream)"audio"===e.kind?s=e.stream.getAudioTracks()[0]:"video"===e.kind&&(s=e.stream.getVideoTracks()[0]),s&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=i(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}});var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},f.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(i,o){if(!n._remoteDescription)return o(s("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===e.sdpMid){a=u;break}var f=n.transceivers[a];if(!f)return o(s("OperationError","Can not add ICE candidate"));if(f.rejected)return i();var p=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===p.protocol&&(0===p.port||9===p.port))return i();if(p.component&&1!==p.component)return i();if((0===a||a>0&&f.iceTransport!==n.transceivers[0].iceTransport)&&!c(f.iceTransport,p))return o(s("OperationError","Can not add ICE candidate"));var l=e.candidate.trim();0===l.indexOf("a=")&&(l=l.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(p.type?l:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var d=0;d<n.transceivers.length&&(n.transceivers[d].rejected||(n.transceivers[d].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[d]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));d++);i()})},f.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)}),!n)throw s("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&r.push(e[t].getStats())})}),Promise.all(r).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then(function(e){var t=new Map;return Object.keys(e).forEach(function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])}),t})}}});var p=["createOffer","createAnswer"];return p.forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(p=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),f}},function(e,t,n){n(3);n(6);n(7);window.onload=function(){var e=document.getElementById("video_id"),t=document.getElementById("play-pause"),n=document.getElementById("mute");const r=document.getElementById("full-screen");document.getElementById("Mid-Screen"),document.getElementById("Small-Screen");document.getElementById("seek-bar"),document.getElementById("volume-bar");t.addEventListener("click",function(){1==e.paused?(e.play(),t.innerHTML="Pause"):(e.pause(),t.innerHTML="Play")}),n.addEventListener("click",function(){0==e.muted?(e.mute=!0,n.innerHTML="UnMute"):(e.mute=!1,n.innerHTML="Mute")}),r.addEventListener("click",function(){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}),document.getElementById("classroomSelect").addEventListener("click",function(){alert("hello")}),document.getElementById("video_id").controls=!1}},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",l=1,d=2,h=4,v=1,m=2,g=1,y=2,_=4,C=8,S=16,T=32,b=64,R=128,w=256,P=512,E=30,k="...",x=800,D=16,I=1,O=2,j=1/0,M=9007199254740991,L=1.7976931348623157e308,A=NaN,N=4294967295,F=N-1,U=N>>>1,z=[["ary",R],["bind",g],["bindKey",y],["curry",C],["curryRight",S],["flip",P],["partial",T],["partialRight",b],["rearg",w]],G="[object Arguments]",B="[object Array]",W="[object AsyncFunction]",V="[object Boolean]",$="[object Date]",J="[object DOMException]",q="[object Error]",K="[object Function]",Z="[object GeneratorFunction]",H="[object Map]",Y="[object Number]",X="[object Null]",Q="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",oe="[object Undefined]",ae="[object WeakMap]",ce="[object WeakSet]",se="[object ArrayBuffer]",ue="[object DataView]",fe="[object Float32Array]",pe="[object Float64Array]",le="[object Int8Array]",de="[object Int16Array]",he="[object Int32Array]",ve="[object Uint8Array]",me="[object Uint8ClampedArray]",ge="[object Uint16Array]",ye="[object Uint32Array]",_e=/\b__p \+= '';/g,Ce=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Te=/&(?:amp|lt|gt|quot|#39);/g,be=/[&<>"']/g,Re=RegExp(Te.source),we=RegExp(be.source),Pe=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/[\\^$.*+?()[\]{}|]/g,je=RegExp(Oe.source),Me=/^\s+|\s+$/g,Le=/^\s+/,Ae=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/\\(\\)?/g,Be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Ve=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,Je=/^\[object .+?Constructor\]$/,qe=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,He=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,Xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Qe+"]",nt="["+Xe+"]",rt="\\d+",it="[\\u2700-\\u27bf]",ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+Qe+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ct="\\ud83c[\\udffb-\\udfff]",st="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",ft="[\\ud800-\\udbff][\\udc00-\\udfff]",pt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lt="(?:"+ot+"|"+at+")",dt="(?:"+pt+"|"+at+")",ht="(?:"+nt+"|"+ct+")"+"?",vt="[\\ufe0e\\ufe0f]?"+ht+("(?:\\u200d(?:"+[st,ut,ft].join("|")+")[\\ufe0e\\ufe0f]?"+ht+")*"),mt="(?:"+[it,ut,ft].join("|")+")"+vt,gt="(?:"+[st+nt+"?",nt,ut,ft,et].join("|")+")",yt=RegExp("['’]","g"),_t=RegExp(nt,"g"),Ct=RegExp(ct+"(?="+ct+")|"+gt+vt,"g"),St=RegExp([pt+"?"+ot+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,pt,"$"].join("|")+")",dt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,pt+lt,"$"].join("|")+")",pt+"?"+lt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,mt].join("|"),"g"),Tt=RegExp("[\\u200d\\ud800-\\udfff"+Xe+"\\ufe0e\\ufe0f]"),bt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wt=-1,Pt={};Pt[fe]=Pt[pe]=Pt[le]=Pt[de]=Pt[he]=Pt[ve]=Pt[me]=Pt[ge]=Pt[ye]=!0,Pt[G]=Pt[B]=Pt[se]=Pt[V]=Pt[ue]=Pt[$]=Pt[q]=Pt[K]=Pt[H]=Pt[Y]=Pt[Q]=Pt[te]=Pt[ne]=Pt[re]=Pt[ae]=!1;var Et={};Et[G]=Et[B]=Et[se]=Et[ue]=Et[V]=Et[$]=Et[fe]=Et[pe]=Et[le]=Et[de]=Et[he]=Et[H]=Et[Y]=Et[Q]=Et[te]=Et[ne]=Et[re]=Et[ie]=Et[ve]=Et[me]=Et[ge]=Et[ye]=!0,Et[q]=Et[K]=Et[ae]=!1;var kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xt=parseFloat,Dt=parseInt,It="object"==typeof e&&e&&e.Object===Object&&e,Ot="object"==typeof self&&self&&self.Object===Object&&self,jt=It||Ot||Function("return this")(),Mt=t&&!t.nodeType&&t,Lt=Mt&&"object"==typeof r&&r&&!r.nodeType&&r,At=Lt&&Lt.exports===Mt,Nt=At&&It.process,Ft=function(){try{var e=Lt&&Lt.require&&Lt.require("util").types;return e||Nt&&Nt.binding&&Nt.binding("util")}catch(e){}}(),Ut=Ft&&Ft.isArrayBuffer,zt=Ft&&Ft.isDate,Gt=Ft&&Ft.isMap,Bt=Ft&&Ft.isRegExp,Wt=Ft&&Ft.isSet,Vt=Ft&&Ft.isTypedArray;function $t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Jt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function qt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ht(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Yt(e,t){return!!(null==e?0:e.length)&&sn(e,t,0)>-1}function Xt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Qt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function en(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function tn(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function nn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var on=ln("length");function an(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function cn(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function sn(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):cn(e,fn,n)}function un(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function fn(e){return e!=e}function pn(e,t){var n=null==e?0:e.length;return n?vn(e,t)/n:A}function ln(e){return function(t){return null==t?o:t[e]}}function dn(e){return function(t){return null==e?o:e[t]}}function hn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function vn(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function mn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function gn(e){return function(t){return e(t)}}function yn(e,t){return Qt(t,function(t){return e[t]})}function _n(e,t){return e.has(t)}function Cn(e,t){for(var n=-1,r=e.length;++n<r&&sn(t,e[n],0)>-1;);return n}function Sn(e,t){for(var n=e.length;n--&&sn(t,e[n],0)>-1;);return n}var Tn=dn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),bn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Rn(e){return"\\"+kt[e]}function wn(e){return Tt.test(e)}function Pn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function En(e,t){return function(n){return e(t(n))}}function kn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==p||(e[n]=p,o[i++]=n)}return o}function xn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Dn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function In(e){return wn(e)?function(e){var t=Ct.lastIndex=0;for(;Ct.test(e);)++t;return t}(e):on(e)}function On(e){return wn(e)?function(e){return e.match(Ct)||[]}(e):function(e){return e.split("")}(e)}var jn=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Mn=function e(t){var n,r=(t=null==t?jt:Mn.defaults(jt.Object(),t,Mn.pick(jt,Rt))).Array,i=t.Date,Xe=t.Error,Qe=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,rt=t.String,it=t.TypeError,ot=r.prototype,at=Qe.prototype,ct=tt.prototype,st=t["__core-js_shared__"],ut=at.toString,ft=ct.hasOwnProperty,pt=0,lt=(n=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",dt=ct.toString,ht=ut.call(tt),vt=jt._,mt=nt("^"+ut.call(ft).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=At?t.Buffer:o,Ct=t.Symbol,Tt=t.Uint8Array,kt=gt?gt.allocUnsafe:o,It=En(tt.getPrototypeOf,tt),Ot=tt.create,Mt=ct.propertyIsEnumerable,Lt=ot.splice,Nt=Ct?Ct.isConcatSpreadable:o,Ft=Ct?Ct.iterator:o,on=Ct?Ct.toStringTag:o,dn=function(){try{var e=Uo(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ln=t.clearTimeout!==jt.clearTimeout&&t.clearTimeout,An=i&&i.now!==jt.Date.now&&i.now,Nn=t.setTimeout!==jt.setTimeout&&t.setTimeout,Fn=et.ceil,Un=et.floor,zn=tt.getOwnPropertySymbols,Gn=gt?gt.isBuffer:o,Bn=t.isFinite,Wn=ot.join,Vn=En(tt.keys,tt),$n=et.max,Jn=et.min,qn=i.now,Kn=t.parseInt,Zn=et.random,Hn=ot.reverse,Yn=Uo(t,"DataView"),Xn=Uo(t,"Map"),Qn=Uo(t,"Promise"),er=Uo(t,"Set"),tr=Uo(t,"WeakMap"),nr=Uo(tt,"create"),rr=tr&&new tr,ir={},or=pa(Yn),ar=pa(Xn),cr=pa(Qn),sr=pa(er),ur=pa(tr),fr=Ct?Ct.prototype:o,pr=fr?fr.valueOf:o,lr=fr?fr.toString:o;function dr(e){if(kc(e)&&!gc(e)&&!(e instanceof gr)){if(e instanceof mr)return e;if(ft.call(e,"__wrapped__"))return la(e)}return new mr(e)}var hr=function(){function e(){}return function(t){if(!Ec(t))return{};if(Ot)return Ot(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function vr(){}function mr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function gr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=N,this.__views__=[]}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Cr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Sr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Cr;++t<n;)this.add(e[t])}function Tr(e){var t=this.__data__=new _r(e);this.size=t.size}function br(e,t){var n=gc(e),r=!n&&mc(e),i=!n&&!r&&Sc(e),o=!n&&!r&&!i&&Ac(e),a=n||r||i||o,c=a?mn(e.length,rt):[],s=c.length;for(var u in e)!t&&!ft.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Jo(u,s))||c.push(u);return c}function Rr(e){var t=e.length;return t?e[Si(0,t-1)]:o}function wr(e,t){return sa(no(e),Mr(t,0,e.length))}function Pr(e){return sa(no(e))}function Er(e,t,n){(n===o||dc(e[t],n))&&(n!==o||t in e)||Or(e,t,n)}function kr(e,t,n){var r=e[t];ft.call(e,t)&&dc(r,n)&&(n!==o||t in e)||Or(e,t,n)}function xr(e,t){for(var n=e.length;n--;)if(dc(e[n][0],t))return n;return-1}function Dr(e,t,n,r){return Ur(e,function(e,i,o){t(r,e,n(e),o)}),r}function Ir(e,t){return e&&ro(t,is(t),e)}function Or(e,t,n){"__proto__"==t&&dn?dn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function jr(e,t){for(var n=-1,i=t.length,a=r(i),c=null==e;++n<i;)a[n]=c?o:Qc(e,t[n]);return a}function Mr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Lr(e,t,n,r,i,a){var c,s=t&l,u=t&d,f=t&h;if(n&&(c=i?n(e,r,i,a):n(e)),c!==o)return c;if(!Ec(e))return e;var p=gc(e);if(p){if(c=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ft.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return no(e,c)}else{var v=Bo(e),m=v==K||v==Z;if(Sc(e))return Hi(e,s);if(v==Q||v==G||m&&!i){if(c=u||m?{}:Vo(e),!s)return u?function(e,t){return ro(e,Go(e),t)}(e,function(e,t){return e&&ro(t,os(t),e)}(c,e)):function(e,t){return ro(e,zo(e),t)}(e,Ir(c,e))}else{if(!Et[v])return i?e:{};c=function(e,t,n){var r,i=e.constructor;switch(t){case se:return Yi(e);case V:case $:return new i(+e);case ue:return function(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case fe:case pe:case le:case de:case he:case ve:case me:case ge:case ye:return Xi(e,n);case H:return new i;case Y:case re:return new i(e);case te:return function(e){var t=new e.constructor(e.source,We.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new i;case ie:return r=e,pr?tt(pr.call(r)):{}}}(e,v,s)}}a||(a=new Tr);var g=a.get(e);if(g)return g;if(a.set(e,c),jc(e))return e.forEach(function(r){c.add(Lr(r,t,n,r,e,a))}),c;if(xc(e))return e.forEach(function(r,i){c.set(i,Lr(r,t,n,i,e,a))}),c;var y=p?o:(f?u?Oo:Io:u?os:is)(e);return qt(y||e,function(r,i){y&&(r=e[i=r]),kr(c,i,Lr(r,t,n,i,e,a))}),c}function Ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=tt(e);r--;){var i=n[r],a=t[i],c=e[i];if(c===o&&!(i in e)||!a(c))return!1}return!0}function Nr(e,t,n){if("function"!=typeof e)throw new it(s);return ia(function(){e.apply(o,n)},t)}function Fr(e,t,n,r){var i=-1,o=Yt,c=!0,s=e.length,u=[],f=t.length;if(!s)return u;n&&(t=Qt(t,gn(n))),r?(o=Xt,c=!1):t.length>=a&&(o=_n,c=!1,t=new Sr(t));e:for(;++i<s;){var p=e[i],l=null==n?p:n(p);if(p=r||0!==p?p:0,c&&l==l){for(var d=f;d--;)if(t[d]===l)continue e;u.push(p)}else o(t,l,r)||u.push(p)}return u}dr.templateSettings={escape:Pe,evaluate:Ee,interpolate:ke,variable:"",imports:{_:dr}},dr.prototype=vr.prototype,dr.prototype.constructor=dr,mr.prototype=hr(vr.prototype),mr.prototype.constructor=mr,gr.prototype=hr(vr.prototype),gr.prototype.constructor=gr,yr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},yr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yr.prototype.get=function(e){var t=this.__data__;if(nr){var n=t[e];return n===u?o:n}return ft.call(t,e)?t[e]:o},yr.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==o:ft.call(t,e)},yr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nr&&t===o?u:t,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(e){var t=this.__data__,n=xr(t,e);return!(n<0||(n==t.length-1?t.pop():Lt.call(t,n,1),--this.size,0))},_r.prototype.get=function(e){var t=this.__data__,n=xr(t,e);return n<0?o:t[n][1]},_r.prototype.has=function(e){return xr(this.__data__,e)>-1},_r.prototype.set=function(e,t){var n=this.__data__,r=xr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Cr.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Xn||_r),string:new yr}},Cr.prototype.delete=function(e){var t=No(this,e).delete(e);return this.size-=t?1:0,t},Cr.prototype.get=function(e){return No(this,e).get(e)},Cr.prototype.has=function(e){return No(this,e).has(e)},Cr.prototype.set=function(e,t){var n=No(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Sr.prototype.add=Sr.prototype.push=function(e){return this.__data__.set(e,u),this},Sr.prototype.has=function(e){return this.__data__.has(e)},Tr.prototype.clear=function(){this.__data__=new _r,this.size=0},Tr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Tr.prototype.get=function(e){return this.__data__.get(e)},Tr.prototype.has=function(e){return this.__data__.has(e)},Tr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _r){var r=n.__data__;if(!Xn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Cr(r)}return n.set(e,t),this.size=n.size,this};var Ur=ao(qr),zr=ao(Kr,!0);function Gr(e,t){var n=!0;return Ur(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Br(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],c=t(a);if(null!=c&&(s===o?c==c&&!Lc(c):n(c,s)))var s=c,u=a}return u}function Wr(e,t){var n=[];return Ur(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Vr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=$o),i||(i=[]);++o<a;){var c=e[o];t>0&&n(c)?t>1?Vr(c,t-1,n,r,i):en(i,c):r||(i[i.length]=c)}return i}var $r=co(),Jr=co(!0);function qr(e,t){return e&&$r(e,t,is)}function Kr(e,t){return e&&Jr(e,t,is)}function Zr(e,t){return Ht(t,function(t){return Rc(e[t])})}function Hr(e,t){for(var n=0,r=(t=Ji(t,e)).length;null!=e&&n<r;)e=e[fa(t[n++])];return n&&n==r?e:o}function Yr(e,t,n){var r=t(e);return gc(e)?r:en(r,n(e))}function Xr(e){return null==e?e===o?oe:X:on&&on in tt(e)?function(e){var t=ft.call(e,on),n=e[on];try{e[on]=o;var r=!0}catch(e){}var i=dt.call(e);return r&&(t?e[on]=n:delete e[on]),i}(e):function(e){return dt.call(e)}(e)}function Qr(e,t){return e>t}function ei(e,t){return null!=e&&ft.call(e,t)}function ti(e,t){return null!=e&&t in tt(e)}function ni(e,t,n){for(var i=n?Xt:Yt,a=e[0].length,c=e.length,s=c,u=r(c),f=1/0,p=[];s--;){var l=e[s];s&&t&&(l=Qt(l,gn(t))),f=Jn(l.length,f),u[s]=!n&&(t||a>=120&&l.length>=120)?new Sr(s&&l):o}l=e[0];var d=-1,h=u[0];e:for(;++d<a&&p.length<f;){var v=l[d],m=t?t(v):v;if(v=n||0!==v?v:0,!(h?_n(h,m):i(p,m,n))){for(s=c;--s;){var g=u[s];if(!(g?_n(g,m):i(e[s],m,n)))continue e}h&&h.push(m),p.push(v)}}return p}function ri(e,t,n){var r=null==(e=ta(e,t=Ji(t,e)))?e:e[fa(ba(t))];return null==r?o:$t(r,e,n)}function ii(e){return kc(e)&&Xr(e)==G}function oi(e,t,n,r,i){return e===t||(null==e||null==t||!kc(e)&&!kc(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var c=gc(e),s=gc(t),u=c?B:Bo(e),f=s?B:Bo(t),p=(u=u==G?Q:u)==Q,l=(f=f==G?Q:f)==Q,d=u==f;if(d&&Sc(e)){if(!Sc(t))return!1;c=!0,p=!1}if(d&&!p)return a||(a=new Tr),c||Ac(e)?xo(e,t,n,r,i,a):function(e,t,n,r,i,o,a){switch(n){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case se:return!(e.byteLength!=t.byteLength||!o(new Tt(e),new Tt(t)));case V:case $:case Y:return dc(+e,+t);case q:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case H:var c=Pn;case ne:var s=r&v;if(c||(c=xn),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;r|=m,a.set(e,t);var f=xo(c(e),c(t),r,i,o,a);return a.delete(e),f;case ie:if(pr)return pr.call(e)==pr.call(t)}return!1}(e,t,u,n,r,i,a);if(!(n&v)){var h=p&&ft.call(e,"__wrapped__"),g=l&&ft.call(t,"__wrapped__");if(h||g){var y=h?e.value():e,_=g?t.value():t;return a||(a=new Tr),i(y,_,n,r,a)}}return!!d&&(a||(a=new Tr),function(e,t,n,r,i,a){var c=n&v,s=Io(e),u=s.length,f=Io(t).length;if(u!=f&&!c)return!1;for(var p=u;p--;){var l=s[p];if(!(c?l in t:ft.call(t,l)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var h=!0;a.set(e,t),a.set(t,e);for(var m=c;++p<u;){l=s[p];var g=e[l],y=t[l];if(r)var _=c?r(y,g,l,t,e,a):r(g,y,l,e,t,a);if(!(_===o?g===y||i(g,y,n,r,a):_)){h=!1;break}m||(m="constructor"==l)}if(h&&!m){var C=e.constructor,S=t.constructor;C!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof C&&C instanceof C&&"function"==typeof S&&S instanceof S)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,i,a))}(e,t,n,r,oi,i))}function ai(e,t,n,r){var i=n.length,a=i,c=!r;if(null==e)return!a;for(e=tt(e);i--;){var s=n[i];if(c&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],f=e[u],p=s[1];if(c&&s[2]){if(f===o&&!(u in e))return!1}else{var l=new Tr;if(r)var d=r(f,p,u,e,t,l);if(!(d===o?oi(p,f,v|m,r,l):d))return!1}}return!0}function ci(e){return!(!Ec(e)||(t=e,lt&&lt in t))&&(Rc(e)?mt:Je).test(pa(e));var t}function si(e){return"function"==typeof e?e:null==e?Ds:"object"==typeof e?gc(e)?hi(e[0],e[1]):di(e):Us(e)}function ui(e){if(!Yo(e))return Vn(e);var t=[];for(var n in tt(e))ft.call(e,n)&&"constructor"!=n&&t.push(n);return t}function fi(e){if(!Ec(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Yo(e),n=[];for(var r in e)("constructor"!=r||!t&&ft.call(e,r))&&n.push(r);return n}function pi(e,t){return e<t}function li(e,t){var n=-1,i=_c(e)?r(e.length):[];return Ur(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function di(e){var t=Fo(e);return 1==t.length&&t[0][2]?Qo(t[0][0],t[0][1]):function(n){return n===e||ai(n,e,t)}}function hi(e,t){return Ko(e)&&Xo(t)?Qo(fa(e),t):function(n){var r=Qc(n,e);return r===o&&r===t?es(n,e):oi(t,r,v|m)}}function vi(e,t,n,r,i){e!==t&&$r(t,function(a,c){if(Ec(a))i||(i=new Tr),function(e,t,n,r,i,a,c){var s=na(e,n),u=na(t,n),f=c.get(u);if(f)Er(e,n,f);else{var p=a?a(s,u,n+"",e,t,c):o,l=p===o;if(l){var d=gc(u),h=!d&&Sc(u),v=!d&&!h&&Ac(u);p=u,d||h||v?gc(s)?p=s:Cc(s)?p=no(s):h?(l=!1,p=Hi(u,!0)):v?(l=!1,p=Xi(u,!0)):p=[]:Ic(u)||mc(u)?(p=s,mc(s)?p=Vc(s):Ec(s)&&!Rc(s)||(p=Vo(u))):l=!1}l&&(c.set(u,p),i(p,u,r,a,c),c.delete(u)),Er(e,n,p)}}(e,t,c,n,vi,r,i);else{var s=r?r(na(e,c),a,c+"",e,t,i):o;s===o&&(s=a),Er(e,c,s)}},os)}function mi(e,t){var n=e.length;if(n)return Jo(t+=t<0?n:0,n)?e[t]:o}function gi(e,t,n){var r=-1;return t=Qt(t.length?t:[Ds],gn(Ao())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(li(e,function(e,n,i){return{criteria:Qt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,c=n.length;++r<a;){var s=Qi(i[r],o[r]);if(s){if(r>=c)return s;var u=n[r];return s*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)})}function yi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],c=Hr(e,a);n(c,a)&&Pi(o,Ji(a,e),c)}return o}function _i(e,t,n,r){var i=r?un:sn,o=-1,a=t.length,c=e;for(e===t&&(t=no(t)),n&&(c=Qt(e,gn(n)));++o<a;)for(var s=0,u=t[o],f=n?n(u):u;(s=i(c,f,s,r))>-1;)c!==e&&Lt.call(c,s,1),Lt.call(e,s,1);return e}function Ci(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Jo(i)?Lt.call(e,i,1):Fi(e,i)}}return e}function Si(e,t){return e+Un(Zn()*(t-e+1))}function Ti(e,t){var n="";if(!e||t<1||t>M)return n;do{t%2&&(n+=e),(t=Un(t/2))&&(e+=e)}while(t);return n}function bi(e,t){return oa(ea(e,t,Ds),e+"")}function Ri(e){return Rr(ds(e))}function wi(e,t){var n=ds(e);return sa(n,Mr(t,0,n.length))}function Pi(e,t,n,r){if(!Ec(e))return e;for(var i=-1,a=(t=Ji(t,e)).length,c=a-1,s=e;null!=s&&++i<a;){var u=fa(t[i]),f=n;if(i!=c){var p=s[u];(f=r?r(p,u,s):o)===o&&(f=Ec(p)?p:Jo(t[i+1])?[]:{})}kr(s,u,f),s=s[u]}return e}var Ei=rr?function(e,t){return rr.set(e,t),e}:Ds,ki=dn?function(e,t){return dn(e,"toString",{configurable:!0,enumerable:!1,value:Es(t),writable:!0})}:Ds;function xi(e){return sa(ds(e))}function Di(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Ii(e,t){var n;return Ur(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function Oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=U){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Lc(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ji(e,t,Ds,n)}function ji(e,t,n,r){t=n(t);for(var i=0,a=null==e?0:e.length,c=t!=t,s=null===t,u=Lc(t),f=t===o;i<a;){var p=Un((i+a)/2),l=n(e[p]),d=l!==o,h=null===l,v=l==l,m=Lc(l);if(c)var g=r||v;else g=f?v&&(r||d):s?v&&d&&(r||!h):u?v&&d&&!h&&(r||!m):!h&&!m&&(r?l<=t:l<t);g?i=p+1:a=p}return Jn(a,F)}function Mi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],c=t?t(a):a;if(!n||!dc(c,s)){var s=c;o[i++]=0===a?0:a}}return o}function Li(e){return"number"==typeof e?e:Lc(e)?A:+e}function Ai(e){if("string"==typeof e)return e;if(gc(e))return Qt(e,Ai)+"";if(Lc(e))return lr?lr.call(e):"";var t=e+"";return"0"==t&&1/e==-j?"-0":t}function Ni(e,t,n){var r=-1,i=Yt,o=e.length,c=!0,s=[],u=s;if(n)c=!1,i=Xt;else if(o>=a){var f=t?null:bo(e);if(f)return xn(f);c=!1,i=_n,u=new Sr}else u=t?[]:s;e:for(;++r<o;){var p=e[r],l=t?t(p):p;if(p=n||0!==p?p:0,c&&l==l){for(var d=u.length;d--;)if(u[d]===l)continue e;t&&u.push(l),s.push(p)}else i(u,l,n)||(u!==s&&u.push(l),s.push(p))}return s}function Fi(e,t){return null==(e=ta(e,t=Ji(t,e)))||delete e[fa(ba(t))]}function Ui(e,t,n,r){return Pi(e,t,n(Hr(e,t)),r)}function zi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Di(e,r?0:o,r?o+1:i):Di(e,r?o+1:0,r?i:o)}function Gi(e,t){var n=e;return n instanceof gr&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function Bi(e,t,n){var i=e.length;if(i<2)return i?Ni(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var c=e[o],s=-1;++s<i;)s!=o&&(a[o]=Fr(a[o]||c,e[s],t,n));return Ni(Vr(a,1),t,n)}function Wi(e,t,n){for(var r=-1,i=e.length,a=t.length,c={};++r<i;){var s=r<a?t[r]:o;n(c,e[r],s)}return c}function Vi(e){return Cc(e)?e:[]}function $i(e){return"function"==typeof e?e:Ds}function Ji(e,t){return gc(e)?e:Ko(e,t)?[e]:ua($c(e))}var qi=bi;function Ki(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Di(e,t,n)}var Zi=Ln||function(e){return jt.clearTimeout(e)};function Hi(e,t){if(t)return e.slice();var n=e.length,r=kt?kt(n):new e.constructor(n);return e.copy(r),r}function Yi(e){var t=new e.constructor(e.byteLength);return new Tt(t).set(new Tt(e)),t}function Xi(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Qi(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=Lc(e),c=t!==o,s=null===t,u=t==t,f=Lc(t);if(!s&&!f&&!a&&e>t||a&&c&&u&&!s&&!f||r&&c&&u||!n&&u||!i)return 1;if(!r&&!a&&!f&&e<t||f&&n&&i&&!r&&!a||s&&n&&i||!c&&i||!u)return-1}return 0}function eo(e,t,n,i){for(var o=-1,a=e.length,c=n.length,s=-1,u=t.length,f=$n(a-c,0),p=r(u+f),l=!i;++s<u;)p[s]=t[s];for(;++o<c;)(l||o<a)&&(p[n[o]]=e[o]);for(;f--;)p[s++]=e[o++];return p}function to(e,t,n,i){for(var o=-1,a=e.length,c=-1,s=n.length,u=-1,f=t.length,p=$n(a-s,0),l=r(p+f),d=!i;++o<p;)l[o]=e[o];for(var h=o;++u<f;)l[h+u]=t[u];for(;++c<s;)(d||o<a)&&(l[h+n[c]]=e[o++]);return l}function no(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function ro(e,t,n,r){var i=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var s=t[a],u=r?r(n[s],e[s],s,n,e):o;u===o&&(u=e[s]),i?Or(n,s,u):kr(n,s,u)}return n}function io(e,t){return function(n,r){var i=gc(n)?Jt:Dr,o=t?t():{};return i(n,e,Ao(r,2),o)}}function oo(e){return bi(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,c=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,c&&qo(n[0],n[1],c)&&(a=i<3?o:a,i=1),t=tt(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}function ao(e,t){return function(n,r){if(null==n)return n;if(!_c(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=tt(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function co(e){return function(t,n,r){for(var i=-1,o=tt(t),a=r(t),c=a.length;c--;){var s=a[e?c:++i];if(!1===n(o[s],s,o))break}return t}}function so(e){return function(t){var n=wn(t=$c(t))?On(t):o,r=n?n[0]:t.charAt(0),i=n?Ki(n,1).join(""):t.slice(1);return r[e]()+i}}function uo(e){return function(t){return tn(Rs(ms(t).replace(yt,"")),e,"")}}function fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=hr(e.prototype),r=e.apply(n,t);return Ec(r)?r:n}}function po(e){return function(t,n,r){var i=tt(t);if(!_c(t)){var a=Ao(n,3);t=is(t),n=function(e){return a(i[e],e,i)}}var c=e(t,n,r);return c>-1?i[a?t[c]:c]:o}}function lo(e){return Do(function(t){var n=t.length,r=n,i=mr.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new it(s);if(i&&!c&&"wrapper"==Mo(a))var c=new mr([],!0)}for(r=c?r:n;++r<n;){var u=Mo(a=t[r]),f="wrapper"==u?jo(a):o;c=f&&Zo(f[0])&&f[1]==(R|C|T|w)&&!f[4].length&&1==f[9]?c[Mo(f[0])].apply(c,f[3]):1==a.length&&Zo(a)?c[u]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&gc(r))return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function ho(e,t,n,i,a,c,s,u,f,p){var l=t&R,d=t&g,h=t&y,v=t&(C|S),m=t&P,_=h?o:fo(e);return function g(){for(var y=arguments.length,C=r(y),S=y;S--;)C[S]=arguments[S];if(v)var T=Lo(g),b=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(C,T);if(i&&(C=eo(C,i,a,v)),c&&(C=to(C,c,s,v)),y-=b,v&&y<p){var R=kn(C,T);return So(e,t,ho,g.placeholder,n,C,R,u,f,p-y)}var w=d?n:this,P=h?w[e]:e;return y=C.length,u?C=function(e,t){for(var n=e.length,r=Jn(t.length,n),i=no(e);r--;){var a=t[r];e[r]=Jo(a,n)?i[a]:o}return e}(C,u):m&&y>1&&C.reverse(),l&&f<y&&(C.length=f),this&&this!==jt&&this instanceof g&&(P=_||fo(P)),P.apply(w,C)}}function vo(e,t){return function(n,r){return function(e,t,n,r){return qr(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function mo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Ai(n),r=Ai(r)):(n=Li(n),r=Li(r)),i=e(n,r)}return i}}function go(e){return Do(function(t){return t=Qt(t,gn(Ao())),bi(function(n){var r=this;return e(t,function(e){return $t(e,r,n)})})})}function yo(e,t){var n=(t=t===o?" ":Ai(t)).length;if(n<2)return n?Ti(t,e):t;var r=Ti(t,Fn(e/In(t)));return wn(t)?Ki(On(r),0,e).join(""):r.slice(0,e)}function _o(e){return function(t,n,i){return i&&"number"!=typeof i&&qo(t,n,i)&&(n=i=o),t=zc(t),n===o?(n=t,t=0):n=zc(n),function(e,t,n,i){for(var o=-1,a=$n(Fn((t-e)/(n||1)),0),c=r(a);a--;)c[i?a:++o]=e,e+=n;return c}(t,n,i=i===o?t<n?1:-1:zc(i),e)}}function Co(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Wc(t),n=Wc(n)),e(t,n)}}function So(e,t,n,r,i,a,c,s,u,f){var p=t&C;t|=p?T:b,(t&=~(p?b:T))&_||(t&=~(g|y));var l=[e,t,i,p?a:o,p?c:o,p?o:a,p?o:c,s,u,f],d=n.apply(o,l);return Zo(e)&&ra(d,l),d.placeholder=r,aa(d,e,t)}function To(e){var t=et[e];return function(e,n){if(e=Wc(e),n=null==n?0:Jn(Gc(n),292)){var r=($c(e)+"e").split("e");return+((r=($c(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var bo=er&&1/xn(new er([,-0]))[1]==j?function(e){return new er(e)}:Ls;function Ro(e){return function(t){var n=Bo(t);return n==H?Pn(t):n==ne?Dn(t):function(e,t){return Qt(t,function(t){return[t,e[t]]})}(t,e(t))}}function wo(e,t,n,i,a,c,u,f){var l=t&y;if(!l&&"function"!=typeof e)throw new it(s);var d=i?i.length:0;if(d||(t&=~(T|b),i=a=o),u=u===o?u:$n(Gc(u),0),f=f===o?f:Gc(f),d-=a?a.length:0,t&b){var h=i,v=a;i=a=o}var m=l?o:jo(e),P=[e,t,n,i,a,h,v,c,u,f];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(g|y|R),a=r==R&&n==C||r==R&&n==w&&e[7].length<=t[8]||r==(R|w)&&t[7].length<=t[8]&&n==C;if(!o&&!a)return e;r&g&&(e[2]=t[2],i|=n&g?0:_);var c=t[3];if(c){var s=e[3];e[3]=s?eo(s,c,t[4]):c,e[4]=s?kn(e[3],p):t[4]}(c=t[5])&&(s=e[5],e[5]=s?to(s,c,t[6]):c,e[6]=s?kn(e[5],p):t[6]),(c=t[7])&&(e[7]=c),r&R&&(e[8]=null==e[8]?t[8]:Jn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(P,m),e=P[0],t=P[1],n=P[2],i=P[3],a=P[4],!(f=P[9]=P[9]===o?l?0:e.length:$n(P[9]-d,0))&&t&(C|S)&&(t&=~(C|S)),t&&t!=g)E=t==C||t==S?function(e,t,n){var i=fo(e);return function a(){for(var c=arguments.length,s=r(c),u=c,f=Lo(a);u--;)s[u]=arguments[u];var p=c<3&&s[0]!==f&&s[c-1]!==f?[]:kn(s,f);return(c-=p.length)<n?So(e,t,ho,a.placeholder,o,s,p,o,o,n-c):$t(this&&this!==jt&&this instanceof a?i:e,this,s)}}(e,t,f):t!=T&&t!=(g|T)||a.length?ho.apply(o,P):function(e,t,n,i){var o=t&g,a=fo(e);return function t(){for(var c=-1,s=arguments.length,u=-1,f=i.length,p=r(f+s),l=this&&this!==jt&&this instanceof t?a:e;++u<f;)p[u]=i[u];for(;s--;)p[u++]=arguments[++c];return $t(l,o?n:this,p)}}(e,t,n,i);else var E=function(e,t,n){var r=t&g,i=fo(e);return function t(){return(this&&this!==jt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return aa((m?Ei:ra)(E,P),e,t)}function Po(e,t,n,r){return e===o||dc(e,ct[n])&&!ft.call(r,n)?t:e}function Eo(e,t,n,r,i,a){return Ec(e)&&Ec(t)&&(a.set(t,e),vi(e,t,o,Eo,a),a.delete(t)),e}function ko(e){return Ic(e)?o:e}function xo(e,t,n,r,i,a){var c=n&v,s=e.length,u=t.length;if(s!=u&&!(c&&u>s))return!1;var f=a.get(e);if(f&&a.get(t))return f==t;var p=-1,l=!0,d=n&m?new Sr:o;for(a.set(e,t),a.set(t,e);++p<s;){var h=e[p],g=t[p];if(r)var y=c?r(g,h,p,t,e,a):r(h,g,p,e,t,a);if(y!==o){if(y)continue;l=!1;break}if(d){if(!rn(t,function(e,t){if(!_n(d,t)&&(h===e||i(h,e,n,r,a)))return d.push(t)})){l=!1;break}}else if(h!==g&&!i(h,g,n,r,a)){l=!1;break}}return a.delete(e),a.delete(t),l}function Do(e){return oa(ea(e,o,ya),e+"")}function Io(e){return Yr(e,is,zo)}function Oo(e){return Yr(e,os,Go)}var jo=rr?function(e){return rr.get(e)}:Ls;function Mo(e){for(var t=e.name+"",n=ir[t],r=ft.call(ir,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Lo(e){return(ft.call(dr,"placeholder")?dr:e).placeholder}function Ao(){var e=dr.iteratee||Is;return e=e===Is?si:e,arguments.length?e(arguments[0],arguments[1]):e}function No(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Fo(e){for(var t=is(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Xo(i)]}return t}function Uo(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return ci(n)?n:o}var zo=zn?function(e){return null==e?[]:(e=tt(e),Ht(zn(e),function(t){return Mt.call(e,t)}))}:Bs,Go=zn?function(e){for(var t=[];e;)en(t,zo(e)),e=It(e);return t}:Bs,Bo=Xr;function Wo(e,t,n){for(var r=-1,i=(t=Ji(t,e)).length,o=!1;++r<i;){var a=fa(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Pc(i)&&Jo(a,i)&&(gc(e)||mc(e))}function Vo(e){return"function"!=typeof e.constructor||Yo(e)?{}:hr(It(e))}function $o(e){return gc(e)||mc(e)||!!(Nt&&e&&e[Nt])}function Jo(e,t){var n=typeof e;return!!(t=null==t?M:t)&&("number"==n||"symbol"!=n&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function qo(e,t,n){if(!Ec(n))return!1;var r=typeof t;return!!("number"==r?_c(n)&&Jo(t,n.length):"string"==r&&t in n)&&dc(n[t],e)}function Ko(e,t){if(gc(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Lc(e))||De.test(e)||!xe.test(e)||null!=t&&e in tt(t)}function Zo(e){var t=Mo(e),n=dr[t];if("function"!=typeof n||!(t in gr.prototype))return!1;if(e===n)return!0;var r=jo(n);return!!r&&e===r[0]}(Yn&&Bo(new Yn(new ArrayBuffer(1)))!=ue||Xn&&Bo(new Xn)!=H||Qn&&"[object Promise]"!=Bo(Qn.resolve())||er&&Bo(new er)!=ne||tr&&Bo(new tr)!=ae)&&(Bo=function(e){var t=Xr(e),n=t==Q?e.constructor:o,r=n?pa(n):"";if(r)switch(r){case or:return ue;case ar:return H;case cr:return"[object Promise]";case sr:return ne;case ur:return ae}return t});var Ho=st?Rc:Ws;function Yo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ct)}function Xo(e){return e==e&&!Ec(e)}function Qo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in tt(n))}}function ea(e,t,n){return t=$n(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=$n(i.length-t,0),c=r(a);++o<a;)c[o]=i[t+o];o=-1;for(var s=r(t+1);++o<t;)s[o]=i[o];return s[t]=n(c),$t(e,this,s)}}function ta(e,t){return t.length<2?e:Hr(e,Di(t,0,-1))}function na(e,t){if("__proto__"!=t)return e[t]}var ra=ca(Ei),ia=Nn||function(e,t){return jt.setTimeout(e,t)},oa=ca(ki);function aa(e,t,n){var r=t+"";return oa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ne,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return qt(z,function(n){var r="_."+n[0];t&n[1]&&!Yt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Fe);return t?t[1].split(Ue):[]}(r),n)))}function ca(e){var t=0,n=0;return function(){var r=qn(),i=D-(r-n);if(n=r,i>0){if(++t>=x)return arguments[0]}else t=0;return e.apply(o,arguments)}}function sa(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Si(n,i),c=e[a];e[a]=e[n],e[n]=c}return e.length=t,e}var ua=function(e){var t=cc(e,function(e){return n.size===f&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ie,function(e,n,r,i){t.push(r?i.replace(Ge,"$1"):n||e)}),t});function fa(e){if("string"==typeof e||Lc(e))return e;var t=e+"";return"0"==t&&1/e==-j?"-0":t}function pa(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function la(e){if(e instanceof gr)return e.clone();var t=new mr(e.__wrapped__,e.__chain__);return t.__actions__=no(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var da=bi(function(e,t){return Cc(e)?Fr(e,Vr(t,1,Cc,!0)):[]}),ha=bi(function(e,t){var n=ba(t);return Cc(n)&&(n=o),Cc(e)?Fr(e,Vr(t,1,Cc,!0),Ao(n,2)):[]}),va=bi(function(e,t){var n=ba(t);return Cc(n)&&(n=o),Cc(e)?Fr(e,Vr(t,1,Cc,!0),o,n):[]});function ma(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Gc(n);return i<0&&(i=$n(r+i,0)),cn(e,Ao(t,3),i)}function ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Gc(n),i=n<0?$n(r+i,0):Jn(i,r-1)),cn(e,Ao(t,3),i,!0)}function ya(e){return null!=e&&e.length?Vr(e,1):[]}function _a(e){return e&&e.length?e[0]:o}var Ca=bi(function(e){var t=Qt(e,Vi);return t.length&&t[0]===e[0]?ni(t):[]}),Sa=bi(function(e){var t=ba(e),n=Qt(e,Vi);return t===ba(n)?t=o:n.pop(),n.length&&n[0]===e[0]?ni(n,Ao(t,2)):[]}),Ta=bi(function(e){var t=ba(e),n=Qt(e,Vi);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?ni(n,o,t):[]});function ba(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ra=bi(wa);function wa(e,t){return e&&e.length&&t&&t.length?_i(e,t):e}var Pa=Do(function(e,t){var n=null==e?0:e.length,r=jr(e,t);return Ci(e,Qt(t,function(e){return Jo(e,n)?+e:e}).sort(Qi)),r});function Ea(e){return null==e?e:Hn.call(e)}var ka=bi(function(e){return Ni(Vr(e,1,Cc,!0))}),xa=bi(function(e){var t=ba(e);return Cc(t)&&(t=o),Ni(Vr(e,1,Cc,!0),Ao(t,2))}),Da=bi(function(e){var t=ba(e);return t="function"==typeof t?t:o,Ni(Vr(e,1,Cc,!0),o,t)});function Ia(e){if(!e||!e.length)return[];var t=0;return e=Ht(e,function(e){if(Cc(e))return t=$n(e.length,t),!0}),mn(t,function(t){return Qt(e,ln(t))})}function Oa(e,t){if(!e||!e.length)return[];var n=Ia(e);return null==t?n:Qt(n,function(e){return $t(t,o,e)})}var ja=bi(function(e,t){return Cc(e)?Fr(e,t):[]}),Ma=bi(function(e){return Bi(Ht(e,Cc))}),La=bi(function(e){var t=ba(e);return Cc(t)&&(t=o),Bi(Ht(e,Cc),Ao(t,2))}),Aa=bi(function(e){var t=ba(e);return t="function"==typeof t?t:o,Bi(Ht(e,Cc),o,t)}),Na=bi(Ia);var Fa=bi(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,Oa(e,n)});function Ua(e){var t=dr(e);return t.__chain__=!0,t}function za(e,t){return t(e)}var Ga=Do(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return jr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof gr&&Jo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:za,args:[i],thisArg:o}),new mr(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)});var Ba=io(function(e,t,n){ft.call(e,n)?++e[n]:Or(e,n,1)});var Wa=po(ma),Va=po(ga);function $a(e,t){return(gc(e)?qt:Ur)(e,Ao(t,3))}function Ja(e,t){return(gc(e)?Kt:zr)(e,Ao(t,3))}var qa=io(function(e,t,n){ft.call(e,n)?e[n].push(t):Or(e,n,[t])});var Ka=bi(function(e,t,n){var i=-1,o="function"==typeof t,a=_c(e)?r(e.length):[];return Ur(e,function(e){a[++i]=o?$t(t,e,n):ri(e,t,n)}),a}),Za=io(function(e,t,n){Or(e,n,t)});function Ha(e,t){return(gc(e)?Qt:li)(e,Ao(t,3))}var Ya=io(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Xa=bi(function(e,t){if(null==e)return[];var n=t.length;return n>1&&qo(e,t[0],t[1])?t=[]:n>2&&qo(t[0],t[1],t[2])&&(t=[t[0]]),gi(e,Vr(t,1),[])}),Qa=An||function(){return jt.Date.now()};function ec(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,wo(e,R,o,o,o,o,t)}function tc(e,t){var n;if("function"!=typeof t)throw new it(s);return e=Gc(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var nc=bi(function(e,t,n){var r=g;if(n.length){var i=kn(n,Lo(nc));r|=T}return wo(e,r,t,n,i)}),rc=bi(function(e,t,n){var r=g|y;if(n.length){var i=kn(n,Lo(rc));r|=T}return wo(t,r,e,n,i)});function ic(e,t,n){var r,i,a,c,u,f,p=0,l=!1,d=!1,h=!0;if("function"!=typeof e)throw new it(s);function v(t){var n=r,a=i;return r=i=o,p=t,c=e.apply(a,n)}function m(e){var n=e-f;return f===o||n>=t||n<0||d&&e-p>=a}function g(){var e=Qa();if(m(e))return y(e);u=ia(g,function(e){var n=t-(e-f);return d?Jn(n,a-(e-p)):n}(e))}function y(e){return u=o,h&&r?v(e):(r=i=o,c)}function _(){var e=Qa(),n=m(e);if(r=arguments,i=this,f=e,n){if(u===o)return function(e){return p=e,u=ia(g,t),l?v(e):c}(f);if(d)return u=ia(g,t),v(f)}return u===o&&(u=ia(g,t)),c}return t=Wc(t)||0,Ec(n)&&(l=!!n.leading,a=(d="maxWait"in n)?$n(Wc(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){u!==o&&Zi(u),p=0,r=f=i=u=o},_.flush=function(){return u===o?c:y(Qa())},_}var oc=bi(function(e,t){return Nr(e,1,t)}),ac=bi(function(e,t,n){return Nr(e,Wc(t)||0,n)});function cc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(s);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(cc.Cache||Cr),n}function sc(e){if("function"!=typeof e)throw new it(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}cc.Cache=Cr;var uc=qi(function(e,t){var n=(t=1==t.length&&gc(t[0])?Qt(t[0],gn(Ao())):Qt(Vr(t,1),gn(Ao()))).length;return bi(function(r){for(var i=-1,o=Jn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return $t(e,this,r)})}),fc=bi(function(e,t){var n=kn(t,Lo(fc));return wo(e,T,o,t,n)}),pc=bi(function(e,t){var n=kn(t,Lo(pc));return wo(e,b,o,t,n)}),lc=Do(function(e,t){return wo(e,w,o,o,o,t)});function dc(e,t){return e===t||e!=e&&t!=t}var hc=Co(Qr),vc=Co(function(e,t){return e>=t}),mc=ii(function(){return arguments}())?ii:function(e){return kc(e)&&ft.call(e,"callee")&&!Mt.call(e,"callee")},gc=r.isArray,yc=Ut?gn(Ut):function(e){return kc(e)&&Xr(e)==se};function _c(e){return null!=e&&Pc(e.length)&&!Rc(e)}function Cc(e){return kc(e)&&_c(e)}var Sc=Gn||Ws,Tc=zt?gn(zt):function(e){return kc(e)&&Xr(e)==$};function bc(e){if(!kc(e))return!1;var t=Xr(e);return t==q||t==J||"string"==typeof e.message&&"string"==typeof e.name&&!Ic(e)}function Rc(e){if(!Ec(e))return!1;var t=Xr(e);return t==K||t==Z||t==W||t==ee}function wc(e){return"number"==typeof e&&e==Gc(e)}function Pc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=M}function Ec(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function kc(e){return null!=e&&"object"==typeof e}var xc=Gt?gn(Gt):function(e){return kc(e)&&Bo(e)==H};function Dc(e){return"number"==typeof e||kc(e)&&Xr(e)==Y}function Ic(e){if(!kc(e)||Xr(e)!=Q)return!1;var t=It(e);if(null===t)return!0;var n=ft.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==ht}var Oc=Bt?gn(Bt):function(e){return kc(e)&&Xr(e)==te};var jc=Wt?gn(Wt):function(e){return kc(e)&&Bo(e)==ne};function Mc(e){return"string"==typeof e||!gc(e)&&kc(e)&&Xr(e)==re}function Lc(e){return"symbol"==typeof e||kc(e)&&Xr(e)==ie}var Ac=Vt?gn(Vt):function(e){return kc(e)&&Pc(e.length)&&!!Pt[Xr(e)]};var Nc=Co(pi),Fc=Co(function(e,t){return e<=t});function Uc(e){if(!e)return[];if(_c(e))return Mc(e)?On(e):no(e);if(Ft&&e[Ft])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ft]());var t=Bo(e);return(t==H?Pn:t==ne?xn:ds)(e)}function zc(e){return e?(e=Wc(e))===j||e===-j?(e<0?-1:1)*L:e==e?e:0:0===e?e:0}function Gc(e){var t=zc(e),n=t%1;return t==t?n?t-n:t:0}function Bc(e){return e?Mr(Gc(e),0,N):0}function Wc(e){if("number"==typeof e)return e;if(Lc(e))return A;if(Ec(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ec(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Me,"");var n=$e.test(e);return n||qe.test(e)?Dt(e.slice(2),n?2:8):Ve.test(e)?A:+e}function Vc(e){return ro(e,os(e))}function $c(e){return null==e?"":Ai(e)}var Jc=oo(function(e,t){if(Yo(t)||_c(t))ro(t,is(t),e);else for(var n in t)ft.call(t,n)&&kr(e,n,t[n])}),qc=oo(function(e,t){ro(t,os(t),e)}),Kc=oo(function(e,t,n,r){ro(t,os(t),e,r)}),Zc=oo(function(e,t,n,r){ro(t,is(t),e,r)}),Hc=Do(jr);var Yc=bi(function(e,t){e=tt(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&qo(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],c=os(a),s=-1,u=c.length;++s<u;){var f=c[s],p=e[f];(p===o||dc(p,ct[f])&&!ft.call(e,f))&&(e[f]=a[f])}return e}),Xc=bi(function(e){return e.push(o,Eo),$t(cs,o,e)});function Qc(e,t,n){var r=null==e?o:Hr(e,t);return r===o?n:r}function es(e,t){return null!=e&&Wo(e,t,ti)}var ts=vo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),e[t]=n},Es(Ds)),ns=vo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),ft.call(e,t)?e[t].push(n):e[t]=[n]},Ao),rs=bi(ri);function is(e){return _c(e)?br(e):ui(e)}function os(e){return _c(e)?br(e,!0):fi(e)}var as=oo(function(e,t,n){vi(e,t,n)}),cs=oo(function(e,t,n,r){vi(e,t,n,r)}),ss=Do(function(e,t){var n={};if(null==e)return n;var r=!1;t=Qt(t,function(t){return t=Ji(t,e),r||(r=t.length>1),t}),ro(e,Oo(e),n),r&&(n=Lr(n,l|d|h,ko));for(var i=t.length;i--;)Fi(n,t[i]);return n});var us=Do(function(e,t){return null==e?{}:function(e,t){return yi(e,t,function(t,n){return es(e,n)})}(e,t)});function fs(e,t){if(null==e)return{};var n=Qt(Oo(e),function(e){return[e]});return t=Ao(t),yi(e,n,function(e,n){return t(e,n[0])})}var ps=Ro(is),ls=Ro(os);function ds(e){return null==e?[]:yn(e,is(e))}var hs=uo(function(e,t,n){return t=t.toLowerCase(),e+(n?vs(t):t)});function vs(e){return bs($c(e).toLowerCase())}function ms(e){return(e=$c(e))&&e.replace(Ze,Tn).replace(_t,"")}var gs=uo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ys=uo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),_s=so("toLowerCase");var Cs=uo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Ss=uo(function(e,t,n){return e+(n?" ":"")+bs(t)});var Ts=uo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),bs=so("toUpperCase");function Rs(e,t,n){return e=$c(e),(t=n?o:t)===o?function(e){return bt.test(e)}(e)?function(e){return e.match(St)||[]}(e):function(e){return e.match(ze)||[]}(e):e.match(t)||[]}var ws=bi(function(e,t){try{return $t(e,o,t)}catch(e){return bc(e)?e:new Xe(e)}}),Ps=Do(function(e,t){return qt(t,function(t){t=fa(t),Or(e,t,nc(e[t],e))}),e});function Es(e){return function(){return e}}var ks=lo(),xs=lo(!0);function Ds(e){return e}function Is(e){return si("function"==typeof e?e:Lr(e,l))}var Os=bi(function(e,t){return function(n){return ri(n,e,t)}}),js=bi(function(e,t){return function(n){return ri(e,n,t)}});function Ms(e,t,n){var r=is(t),i=Zr(t,r);null!=n||Ec(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Zr(t,is(t)));var o=!(Ec(n)&&"chain"in n&&!n.chain),a=Rc(e);return qt(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})}),e}function Ls(){}var As=go(Qt),Ns=go(Zt),Fs=go(rn);function Us(e){return Ko(e)?ln(fa(e)):function(e){return function(t){return Hr(t,e)}}(e)}var zs=_o(),Gs=_o(!0);function Bs(){return[]}function Ws(){return!1}var Vs=mo(function(e,t){return e+t},0),$s=To("ceil"),Js=mo(function(e,t){return e/t},1),qs=To("floor");var Ks,Zs=mo(function(e,t){return e*t},1),Hs=To("round"),Ys=mo(function(e,t){return e-t},0);return dr.after=function(e,t){if("function"!=typeof t)throw new it(s);return e=Gc(e),function(){if(--e<1)return t.apply(this,arguments)}},dr.ary=ec,dr.assign=Jc,dr.assignIn=qc,dr.assignInWith=Kc,dr.assignWith=Zc,dr.at=Hc,dr.before=tc,dr.bind=nc,dr.bindAll=Ps,dr.bindKey=rc,dr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return gc(e)?e:[e]},dr.chain=Ua,dr.chunk=function(e,t,n){t=(n?qo(e,t,n):t===o)?1:$n(Gc(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,c=0,s=r(Fn(i/t));a<i;)s[c++]=Di(e,a,a+=t);return s},dr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},dr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return en(gc(n)?no(n):[n],Vr(t,1))},dr.cond=function(e){var t=null==e?0:e.length,n=Ao();return e=t?Qt(e,function(e){if("function"!=typeof e[1])throw new it(s);return[n(e[0]),e[1]]}):[],bi(function(n){for(var r=-1;++r<t;){var i=e[r];if($t(i[0],this,n))return $t(i[1],this,n)}})},dr.conforms=function(e){return function(e){var t=is(e);return function(n){return Ar(n,e,t)}}(Lr(e,l))},dr.constant=Es,dr.countBy=Ba,dr.create=function(e,t){var n=hr(e);return null==t?n:Ir(n,t)},dr.curry=function e(t,n,r){var i=wo(t,C,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},dr.curryRight=function e(t,n,r){var i=wo(t,S,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},dr.debounce=ic,dr.defaults=Yc,dr.defaultsDeep=Xc,dr.defer=oc,dr.delay=ac,dr.difference=da,dr.differenceBy=ha,dr.differenceWith=va,dr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Di(e,(t=n||t===o?1:Gc(t))<0?0:t,r):[]},dr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Di(e,0,(t=r-(t=n||t===o?1:Gc(t)))<0?0:t):[]},dr.dropRightWhile=function(e,t){return e&&e.length?zi(e,Ao(t,3),!0,!0):[]},dr.dropWhile=function(e,t){return e&&e.length?zi(e,Ao(t,3),!0):[]},dr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&qo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Gc(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Gc(r))<0&&(r+=i),r=n>r?0:Bc(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},dr.filter=function(e,t){return(gc(e)?Ht:Wr)(e,Ao(t,3))},dr.flatMap=function(e,t){return Vr(Ha(e,t),1)},dr.flatMapDeep=function(e,t){return Vr(Ha(e,t),j)},dr.flatMapDepth=function(e,t,n){return n=n===o?1:Gc(n),Vr(Ha(e,t),n)},dr.flatten=ya,dr.flattenDeep=function(e){return null!=e&&e.length?Vr(e,j):[]},dr.flattenDepth=function(e,t){return null!=e&&e.length?Vr(e,t=t===o?1:Gc(t)):[]},dr.flip=function(e){return wo(e,P)},dr.flow=ks,dr.flowRight=xs,dr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},dr.functions=function(e){return null==e?[]:Zr(e,is(e))},dr.functionsIn=function(e){return null==e?[]:Zr(e,os(e))},dr.groupBy=qa,dr.initial=function(e){return null!=e&&e.length?Di(e,0,-1):[]},dr.intersection=Ca,dr.intersectionBy=Sa,dr.intersectionWith=Ta,dr.invert=ts,dr.invertBy=ns,dr.invokeMap=Ka,dr.iteratee=Is,dr.keyBy=Za,dr.keys=is,dr.keysIn=os,dr.map=Ha,dr.mapKeys=function(e,t){var n={};return t=Ao(t,3),qr(e,function(e,r,i){Or(n,t(e,r,i),e)}),n},dr.mapValues=function(e,t){var n={};return t=Ao(t,3),qr(e,function(e,r,i){Or(n,r,t(e,r,i))}),n},dr.matches=function(e){return di(Lr(e,l))},dr.matchesProperty=function(e,t){return hi(e,Lr(t,l))},dr.memoize=cc,dr.merge=as,dr.mergeWith=cs,dr.method=Os,dr.methodOf=js,dr.mixin=Ms,dr.negate=sc,dr.nthArg=function(e){return e=Gc(e),bi(function(t){return mi(t,e)})},dr.omit=ss,dr.omitBy=function(e,t){return fs(e,sc(Ao(t)))},dr.once=function(e){return tc(2,e)},dr.orderBy=function(e,t,n,r){return null==e?[]:(gc(t)||(t=null==t?[]:[t]),gc(n=r?o:n)||(n=null==n?[]:[n]),gi(e,t,n))},dr.over=As,dr.overArgs=uc,dr.overEvery=Ns,dr.overSome=Fs,dr.partial=fc,dr.partialRight=pc,dr.partition=Ya,dr.pick=us,dr.pickBy=fs,dr.property=Us,dr.propertyOf=function(e){return function(t){return null==e?o:Hr(e,t)}},dr.pull=Ra,dr.pullAll=wa,dr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,Ao(n,2)):e},dr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,o,n):e},dr.pullAt=Pa,dr.range=zs,dr.rangeRight=Gs,dr.rearg=lc,dr.reject=function(e,t){return(gc(e)?Ht:Wr)(e,sc(Ao(t,3)))},dr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ao(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Ci(e,i),n},dr.rest=function(e,t){if("function"!=typeof e)throw new it(s);return bi(e,t=t===o?t:Gc(t))},dr.reverse=Ea,dr.sampleSize=function(e,t,n){return t=(n?qo(e,t,n):t===o)?1:Gc(t),(gc(e)?wr:wi)(e,t)},dr.set=function(e,t,n){return null==e?e:Pi(e,t,n)},dr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Pi(e,t,n,r)},dr.shuffle=function(e){return(gc(e)?Pr:xi)(e)},dr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&qo(e,t,n)?(t=0,n=r):(t=null==t?0:Gc(t),n=n===o?r:Gc(n)),Di(e,t,n)):[]},dr.sortBy=Xa,dr.sortedUniq=function(e){return e&&e.length?Mi(e):[]},dr.sortedUniqBy=function(e,t){return e&&e.length?Mi(e,Ao(t,2)):[]},dr.split=function(e,t,n){return n&&"number"!=typeof n&&qo(e,t,n)&&(t=n=o),(n=n===o?N:n>>>0)?(e=$c(e))&&("string"==typeof t||null!=t&&!Oc(t))&&!(t=Ai(t))&&wn(e)?Ki(On(e),0,n):e.split(t,n):[]},dr.spread=function(e,t){if("function"!=typeof e)throw new it(s);return t=null==t?0:$n(Gc(t),0),bi(function(n){var r=n[t],i=Ki(n,0,t);return r&&en(i,r),$t(e,this,i)})},dr.tail=function(e){var t=null==e?0:e.length;return t?Di(e,1,t):[]},dr.take=function(e,t,n){return e&&e.length?Di(e,0,(t=n||t===o?1:Gc(t))<0?0:t):[]},dr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Di(e,(t=r-(t=n||t===o?1:Gc(t)))<0?0:t,r):[]},dr.takeRightWhile=function(e,t){return e&&e.length?zi(e,Ao(t,3),!1,!0):[]},dr.takeWhile=function(e,t){return e&&e.length?zi(e,Ao(t,3)):[]},dr.tap=function(e,t){return t(e),e},dr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new it(s);return Ec(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ic(e,t,{leading:r,maxWait:t,trailing:i})},dr.thru=za,dr.toArray=Uc,dr.toPairs=ps,dr.toPairsIn=ls,dr.toPath=function(e){return gc(e)?Qt(e,fa):Lc(e)?[e]:no(ua($c(e)))},dr.toPlainObject=Vc,dr.transform=function(e,t,n){var r=gc(e),i=r||Sc(e)||Ac(e);if(t=Ao(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ec(e)&&Rc(o)?hr(It(e)):{}}return(i?qt:qr)(e,function(e,r,i){return t(n,e,r,i)}),n},dr.unary=function(e){return ec(e,1)},dr.union=ka,dr.unionBy=xa,dr.unionWith=Da,dr.uniq=function(e){return e&&e.length?Ni(e):[]},dr.uniqBy=function(e,t){return e&&e.length?Ni(e,Ao(t,2)):[]},dr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Ni(e,o,t):[]},dr.unset=function(e,t){return null==e||Fi(e,t)},dr.unzip=Ia,dr.unzipWith=Oa,dr.update=function(e,t,n){return null==e?e:Ui(e,t,$i(n))},dr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Ui(e,t,$i(n),r)},dr.values=ds,dr.valuesIn=function(e){return null==e?[]:yn(e,os(e))},dr.without=ja,dr.words=Rs,dr.wrap=function(e,t){return fc($i(t),e)},dr.xor=Ma,dr.xorBy=La,dr.xorWith=Aa,dr.zip=Na,dr.zipObject=function(e,t){return Wi(e||[],t||[],kr)},dr.zipObjectDeep=function(e,t){return Wi(e||[],t||[],Pi)},dr.zipWith=Fa,dr.entries=ps,dr.entriesIn=ls,dr.extend=qc,dr.extendWith=Kc,Ms(dr,dr),dr.add=Vs,dr.attempt=ws,dr.camelCase=hs,dr.capitalize=vs,dr.ceil=$s,dr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Wc(n))==n?n:0),t!==o&&(t=(t=Wc(t))==t?t:0),Mr(Wc(e),t,n)},dr.clone=function(e){return Lr(e,h)},dr.cloneDeep=function(e){return Lr(e,l|h)},dr.cloneDeepWith=function(e,t){return Lr(e,l|h,t="function"==typeof t?t:o)},dr.cloneWith=function(e,t){return Lr(e,h,t="function"==typeof t?t:o)},dr.conformsTo=function(e,t){return null==t||Ar(e,t,is(t))},dr.deburr=ms,dr.defaultTo=function(e,t){return null==e||e!=e?t:e},dr.divide=Js,dr.endsWith=function(e,t,n){e=$c(e),t=Ai(t);var r=e.length,i=n=n===o?r:Mr(Gc(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},dr.eq=dc,dr.escape=function(e){return(e=$c(e))&&we.test(e)?e.replace(be,bn):e},dr.escapeRegExp=function(e){return(e=$c(e))&&je.test(e)?e.replace(Oe,"\\$&"):e},dr.every=function(e,t,n){var r=gc(e)?Zt:Gr;return n&&qo(e,t,n)&&(t=o),r(e,Ao(t,3))},dr.find=Wa,dr.findIndex=ma,dr.findKey=function(e,t){return an(e,Ao(t,3),qr)},dr.findLast=Va,dr.findLastIndex=ga,dr.findLastKey=function(e,t){return an(e,Ao(t,3),Kr)},dr.floor=qs,dr.forEach=$a,dr.forEachRight=Ja,dr.forIn=function(e,t){return null==e?e:$r(e,Ao(t,3),os)},dr.forInRight=function(e,t){return null==e?e:Jr(e,Ao(t,3),os)},dr.forOwn=function(e,t){return e&&qr(e,Ao(t,3))},dr.forOwnRight=function(e,t){return e&&Kr(e,Ao(t,3))},dr.get=Qc,dr.gt=hc,dr.gte=vc,dr.has=function(e,t){return null!=e&&Wo(e,t,ei)},dr.hasIn=es,dr.head=_a,dr.identity=Ds,dr.includes=function(e,t,n,r){e=_c(e)?e:ds(e),n=n&&!r?Gc(n):0;var i=e.length;return n<0&&(n=$n(i+n,0)),Mc(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&sn(e,t,n)>-1},dr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Gc(n);return i<0&&(i=$n(r+i,0)),sn(e,t,i)},dr.inRange=function(e,t,n){return t=zc(t),n===o?(n=t,t=0):n=zc(n),function(e,t,n){return e>=Jn(t,n)&&e<$n(t,n)}(e=Wc(e),t,n)},dr.invoke=rs,dr.isArguments=mc,dr.isArray=gc,dr.isArrayBuffer=yc,dr.isArrayLike=_c,dr.isArrayLikeObject=Cc,dr.isBoolean=function(e){return!0===e||!1===e||kc(e)&&Xr(e)==V},dr.isBuffer=Sc,dr.isDate=Tc,dr.isElement=function(e){return kc(e)&&1===e.nodeType&&!Ic(e)},dr.isEmpty=function(e){if(null==e)return!0;if(_c(e)&&(gc(e)||"string"==typeof e||"function"==typeof e.splice||Sc(e)||Ac(e)||mc(e)))return!e.length;var t=Bo(e);if(t==H||t==ne)return!e.size;if(Yo(e))return!ui(e).length;for(var n in e)if(ft.call(e,n))return!1;return!0},dr.isEqual=function(e,t){return oi(e,t)},dr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?oi(e,t,o,n):!!r},dr.isError=bc,dr.isFinite=function(e){return"number"==typeof e&&Bn(e)},dr.isFunction=Rc,dr.isInteger=wc,dr.isLength=Pc,dr.isMap=xc,dr.isMatch=function(e,t){return e===t||ai(e,t,Fo(t))},dr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,ai(e,t,Fo(t),n)},dr.isNaN=function(e){return Dc(e)&&e!=+e},dr.isNative=function(e){if(Ho(e))throw new Xe(c);return ci(e)},dr.isNil=function(e){return null==e},dr.isNull=function(e){return null===e},dr.isNumber=Dc,dr.isObject=Ec,dr.isObjectLike=kc,dr.isPlainObject=Ic,dr.isRegExp=Oc,dr.isSafeInteger=function(e){return wc(e)&&e>=-M&&e<=M},dr.isSet=jc,dr.isString=Mc,dr.isSymbol=Lc,dr.isTypedArray=Ac,dr.isUndefined=function(e){return e===o},dr.isWeakMap=function(e){return kc(e)&&Bo(e)==ae},dr.isWeakSet=function(e){return kc(e)&&Xr(e)==ce},dr.join=function(e,t){return null==e?"":Wn.call(e,t)},dr.kebabCase=gs,dr.last=ba,dr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Gc(n))<0?$n(r+i,0):Jn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):cn(e,fn,i,!0)},dr.lowerCase=ys,dr.lowerFirst=_s,dr.lt=Nc,dr.lte=Fc,dr.max=function(e){return e&&e.length?Br(e,Ds,Qr):o},dr.maxBy=function(e,t){return e&&e.length?Br(e,Ao(t,2),Qr):o},dr.mean=function(e){return pn(e,Ds)},dr.meanBy=function(e,t){return pn(e,Ao(t,2))},dr.min=function(e){return e&&e.length?Br(e,Ds,pi):o},dr.minBy=function(e,t){return e&&e.length?Br(e,Ao(t,2),pi):o},dr.stubArray=Bs,dr.stubFalse=Ws,dr.stubObject=function(){return{}},dr.stubString=function(){return""},dr.stubTrue=function(){return!0},dr.multiply=Zs,dr.nth=function(e,t){return e&&e.length?mi(e,Gc(t)):o},dr.noConflict=function(){return jt._===this&&(jt._=vt),this},dr.noop=Ls,dr.now=Qa,dr.pad=function(e,t,n){e=$c(e);var r=(t=Gc(t))?In(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return yo(Un(i),n)+e+yo(Fn(i),n)},dr.padEnd=function(e,t,n){e=$c(e);var r=(t=Gc(t))?In(e):0;return t&&r<t?e+yo(t-r,n):e},dr.padStart=function(e,t,n){e=$c(e);var r=(t=Gc(t))?In(e):0;return t&&r<t?yo(t-r,n)+e:e},dr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn($c(e).replace(Le,""),t||0)},dr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&qo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=zc(e),t===o?(t=e,e=0):t=zc(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Zn();return Jn(e+i*(t-e+xt("1e-"+((i+"").length-1))),t)}return Si(e,t)},dr.reduce=function(e,t,n){var r=gc(e)?tn:hn,i=arguments.length<3;return r(e,Ao(t,4),n,i,Ur)},dr.reduceRight=function(e,t,n){var r=gc(e)?nn:hn,i=arguments.length<3;return r(e,Ao(t,4),n,i,zr)},dr.repeat=function(e,t,n){return t=(n?qo(e,t,n):t===o)?1:Gc(t),Ti($c(e),t)},dr.replace=function(){var e=arguments,t=$c(e[0]);return e.length<3?t:t.replace(e[1],e[2])},dr.result=function(e,t,n){var r=-1,i=(t=Ji(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[fa(t[r])];a===o&&(r=i,a=n),e=Rc(a)?a.call(e):a}return e},dr.round=Hs,dr.runInContext=e,dr.sample=function(e){return(gc(e)?Rr:Ri)(e)},dr.size=function(e){if(null==e)return 0;if(_c(e))return Mc(e)?In(e):e.length;var t=Bo(e);return t==H||t==ne?e.size:ui(e).length},dr.snakeCase=Cs,dr.some=function(e,t,n){var r=gc(e)?rn:Ii;return n&&qo(e,t,n)&&(t=o),r(e,Ao(t,3))},dr.sortedIndex=function(e,t){return Oi(e,t)},dr.sortedIndexBy=function(e,t,n){return ji(e,t,Ao(n,2))},dr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Oi(e,t);if(r<n&&dc(e[r],t))return r}return-1},dr.sortedLastIndex=function(e,t){return Oi(e,t,!0)},dr.sortedLastIndexBy=function(e,t,n){return ji(e,t,Ao(n,2),!0)},dr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Oi(e,t,!0)-1;if(dc(e[n],t))return n}return-1},dr.startCase=Ss,dr.startsWith=function(e,t,n){return e=$c(e),n=null==n?0:Mr(Gc(n),0,e.length),t=Ai(t),e.slice(n,n+t.length)==t},dr.subtract=Ys,dr.sum=function(e){return e&&e.length?vn(e,Ds):0},dr.sumBy=function(e,t){return e&&e.length?vn(e,Ao(t,2)):0},dr.template=function(e,t,n){var r=dr.templateSettings;n&&qo(e,t,n)&&(t=o),e=$c(e),t=Kc({},t,r,Po);var i,a,c=Kc({},t.imports,r.imports,Po),s=is(c),u=yn(c,s),f=0,p=t.interpolate||He,l="__p += '",d=nt((t.escape||He).source+"|"+p.source+"|"+(p===ke?Be:He).source+"|"+(t.evaluate||He).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++wt+"]")+"\n";e.replace(d,function(t,n,r,o,c,s){return r||(r=o),l+=e.slice(f,s).replace(Ye,Rn),n&&(i=!0,l+="' +\n__e("+n+") +\n'"),c&&(a=!0,l+="';\n"+c+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+t.length,t}),l+="';\n";var v=t.variable;v||(l="with (obj) {\n"+l+"\n}\n"),l=(a?l.replace(_e,""):l).replace(Ce,"$1").replace(Se,"$1;"),l="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var m=ws(function(){return Qe(s,h+"return "+l).apply(o,u)});if(m.source=l,bc(m))throw m;return m},dr.times=function(e,t){if((e=Gc(e))<1||e>M)return[];var n=N,r=Jn(e,N);t=Ao(t),e-=N;for(var i=mn(r,t);++n<e;)t(n);return i},dr.toFinite=zc,dr.toInteger=Gc,dr.toLength=Bc,dr.toLower=function(e){return $c(e).toLowerCase()},dr.toNumber=Wc,dr.toSafeInteger=function(e){return e?Mr(Gc(e),-M,M):0===e?e:0},dr.toString=$c,dr.toUpper=function(e){return $c(e).toUpperCase()},dr.trim=function(e,t,n){if((e=$c(e))&&(n||t===o))return e.replace(Me,"");if(!e||!(t=Ai(t)))return e;var r=On(e),i=On(t);return Ki(r,Cn(r,i),Sn(r,i)+1).join("")},dr.trimEnd=function(e,t,n){if((e=$c(e))&&(n||t===o))return e.replace(Ae,"");if(!e||!(t=Ai(t)))return e;var r=On(e);return Ki(r,0,Sn(r,On(t))+1).join("")},dr.trimStart=function(e,t,n){if((e=$c(e))&&(n||t===o))return e.replace(Le,"");if(!e||!(t=Ai(t)))return e;var r=On(e);return Ki(r,Cn(r,On(t))).join("")},dr.truncate=function(e,t){var n=E,r=k;if(Ec(t)){var i="separator"in t?t.separator:i;n="length"in t?Gc(t.length):n,r="omission"in t?Ai(t.omission):r}var a=(e=$c(e)).length;if(wn(e)){var c=On(e);a=c.length}if(n>=a)return e;var s=n-In(r);if(s<1)return r;var u=c?Ki(c,0,s).join(""):e.slice(0,s);if(i===o)return u+r;if(c&&(s+=u.length-s),Oc(i)){if(e.slice(s).search(i)){var f,p=u;for(i.global||(i=nt(i.source,$c(We.exec(i))+"g")),i.lastIndex=0;f=i.exec(p);)var l=f.index;u=u.slice(0,l===o?s:l)}}else if(e.indexOf(Ai(i),s)!=s){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r},dr.unescape=function(e){return(e=$c(e))&&Re.test(e)?e.replace(Te,jn):e},dr.uniqueId=function(e){var t=++pt;return $c(e)+t},dr.upperCase=Ts,dr.upperFirst=bs,dr.each=$a,dr.eachRight=Ja,dr.first=_a,Ms(dr,(Ks={},qr(dr,function(e,t){ft.call(dr.prototype,t)||(Ks[t]=e)}),Ks),{chain:!1}),dr.VERSION="4.17.11",qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){dr[e].placeholder=dr}),qt(["drop","take"],function(e,t){gr.prototype[e]=function(n){n=n===o?1:$n(Gc(n),0);var r=this.__filtered__&&!t?new gr(this):this.clone();return r.__filtered__?r.__takeCount__=Jn(n,r.__takeCount__):r.__views__.push({size:Jn(n,N),type:e+(r.__dir__<0?"Right":"")}),r},gr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),qt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==I||3==n;gr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ao(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),qt(["head","last"],function(e,t){var n="take"+(t?"Right":"");gr.prototype[e]=function(){return this[n](1).value()[0]}}),qt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");gr.prototype[e]=function(){return this.__filtered__?new gr(this):this[n](1)}}),gr.prototype.compact=function(){return this.filter(Ds)},gr.prototype.find=function(e){return this.filter(e).head()},gr.prototype.findLast=function(e){return this.reverse().find(e)},gr.prototype.invokeMap=bi(function(e,t){return"function"==typeof e?new gr(this):this.map(function(n){return ri(n,e,t)})}),gr.prototype.reject=function(e){return this.filter(sc(Ao(e)))},gr.prototype.slice=function(e,t){e=Gc(e);var n=this;return n.__filtered__&&(e>0||t<0)?new gr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Gc(t))<0?n.dropRight(-t):n.take(t-e)),n)},gr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},gr.prototype.toArray=function(){return this.take(N)},qr(gr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=dr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(dr.prototype[t]=function(){var t=this.__wrapped__,c=r?[1]:arguments,s=t instanceof gr,u=c[0],f=s||gc(t),p=function(e){var t=i.apply(dr,en([e],c));return r&&l?t[0]:t};f&&n&&"function"==typeof u&&1!=u.length&&(s=f=!1);var l=this.__chain__,d=!!this.__actions__.length,h=a&&!l,v=s&&!d;if(!a&&f){t=v?t:new gr(this);var m=e.apply(t,c);return m.__actions__.push({func:za,args:[p],thisArg:o}),new mr(m,l)}return h&&v?e.apply(this,c):(m=this.thru(p),h?r?m.value()[0]:m.value():m)})}),qt(["pop","push","shift","sort","splice","unshift"],function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);dr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(gc(i)?i:[],e)}return this[n](function(n){return t.apply(gc(n)?n:[],e)})}}),qr(gr.prototype,function(e,t){var n=dr[t];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:t,func:n})}}),ir[ho(o,y).name]=[{name:"wrapper",func:o}],gr.prototype.clone=function(){var e=new gr(this.__wrapped__);return e.__actions__=no(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=no(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=no(this.__views__),e},gr.prototype.reverse=function(){if(this.__filtered__){var e=new gr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},gr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=gc(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Jn(t,e+a);break;case"takeRight":e=$n(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,c=o.end,s=c-a,u=r?c:a-1,f=this.__iteratees__,p=f.length,l=0,d=Jn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return Gi(e,this.__actions__);var h=[];e:for(;s--&&l<d;){for(var v=-1,m=e[u+=t];++v<p;){var g=f[v],y=g.iteratee,_=g.type,C=y(m);if(_==O)m=C;else if(!C){if(_==I)continue e;break e}}h[l++]=m}return h},dr.prototype.at=Ga,dr.prototype.chain=function(){return Ua(this)},dr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},dr.prototype.next=function(){this.__values__===o&&(this.__values__=Uc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},dr.prototype.plant=function(e){for(var t,n=this;n instanceof vr;){var r=la(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},dr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof gr){var t=e;return this.__actions__.length&&(t=new gr(this)),(t=t.reverse()).__actions__.push({func:za,args:[Ea],thisArg:o}),new mr(t,this.__chain__)}return this.thru(Ea)},dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=function(){return Gi(this.__wrapped__,this.__actions__)},dr.prototype.first=dr.prototype.head,Ft&&(dr.prototype[Ft]=function(){return this}),dr}();jt._=Mn,(i=function(){return Mn}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(this,n(4),n(5)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(t=>{const n="function",r="isNode",i=document,o=(e,t)=>typeof e===t,a=(e,t)=>{null!==t&&(Array.isArray(t)?t.map(t=>a(e,t)):(c[r](t)||(t=i.createTextNode(t)),e.appendChild(t)))};function c(e,t){let s,u,f=arguments,p=1;if(e=c.isElement(e)?e:i.createElement(e),o(t,"object")&&!c[r](t)&&!Array.isArray(t))for(s in p++,t)u=t[s],s=c.attrMap[s]||s,o(s,n)?s(e,u):o(u,n)?e[s]=u:e.setAttribute(s,u);for(;p<f.length;p++)a(e,f[p]);return e}c.attrMap={},c.isElement=e=>e instanceof Element,c[r]=e=>e instanceof Node,c.proxy=new Proxy(c,{get:(e,t)=>(!(t in c)&&(c[t]=c.bind(null,t)),c[t])}),((t,n)=>{e.exports=t})(c)})()},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"shimGetUserMedia",function(){return S}),n.d(r,"shimGetDisplayMedia",function(){return T}),n.d(r,"shimMediaStream",function(){return b}),n.d(r,"shimOnTrack",function(){return R}),n.d(r,"shimGetSendersWithDtmf",function(){return w}),n.d(r,"shimGetStats",function(){return P}),n.d(r,"shimSenderReceiverGetStats",function(){return E}),n.d(r,"shimAddTrackRemoveTrackWithNative",function(){return k}),n.d(r,"shimAddTrackRemoveTrack",function(){return x}),n.d(r,"shimPeerConnection",function(){return D}),n.d(r,"fixNegotiationNeeded",function(){return I});var i={};n.r(i),n.d(i,"shimGetUserMedia",function(){return M}),n.d(i,"shimGetDisplayMedia",function(){return L}),n.d(i,"shimPeerConnection",function(){return A}),n.d(i,"shimReplaceTrack",function(){return N});var o={};n.r(o),n.d(o,"shimGetUserMedia",function(){return F}),n.d(o,"shimGetDisplayMedia",function(){return U}),n.d(o,"shimOnTrack",function(){return z}),n.d(o,"shimPeerConnection",function(){return G}),n.d(o,"shimSenderGetStats",function(){return B}),n.d(o,"shimReceiverGetStats",function(){return W}),n.d(o,"shimRemoveStream",function(){return V}),n.d(o,"shimRTCDataChannel",function(){return $});var a={};n.r(a),n.d(a,"shimLocalStreamsAPI",function(){return J}),n.d(a,"shimRemoteStreamsAPI",function(){return q}),n.d(a,"shimCallbacksAPI",function(){return K}),n.d(a,"shimGetUserMedia",function(){return Z}),n.d(a,"shimConstraints",function(){return H}),n.d(a,"shimRTCIceServerUrls",function(){return Y}),n.d(a,"shimTrackEventTransceiver",function(){return X}),n.d(a,"shimCreateOfferLegacy",function(){return Q});var c={};n.r(c),n.d(c,"shimRTCIceCandidate",function(){return ne}),n.d(c,"shimMaxMessageSize",function(){return re}),n.d(c,"shimSendThrowTypeError",function(){return ie}),n.d(c,"shimConnectionState",function(){return oe}),n.d(c,"removeAllowExtmapMixed",function(){return ae});let s=!0,u=!0;function f(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function p(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[e,o])};const o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);const r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function l(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(s=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function d(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function h(){if("object"==typeof window){if(s)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function v(e,t){u&&console.warn(e+" is deprecated, please use "+t+" instead.")}function m(e){const{navigator:t}=e,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=f(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=f(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=f(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=f(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){return g(e)?Object.keys(e).reduce(function(t,n){const r=g(e[n]),i=r?y(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})},{}):e}function _(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(t=>{e.forEach(n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach(i=>{i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach(n=>{e(t,t.get(n),r)})}))}(e,n,i)})}),i}const C=h;function S(e){const t=e&&e.navigator;if(!t.mediaDevices)return;const n=m(e),r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),(e={})[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach(e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(n.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const a=n.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||a)){let n;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?n=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(n=["front"]),n)return t.mediaDevices.enumerateDevices().then(t=>{let a=(t=t.filter(e=>"videoinput"===e.kind)).find(e=>n.some(t=>e.label.toLowerCase().includes(t)));return!a&&t.length&&n.includes("back")&&(a=t[t.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=r(e.video),C("chrome: "+JSON.stringify(e)),i(e)})}e.video=r(e.video)}return C("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,r){i(e,e=>{t.webkitGetUserMedia(e,n,e=>{r&&r(o(e))})})}.bind(t),t.mediaDevices.getUserMedia){const e=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(t){return i(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(o(e))))}}}function T(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function b(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function R(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)p(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}),t.stream.getTracks().forEach(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function w(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function P(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,r){const i=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach(e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{n[t]=e.stat(t)}),t[n.id]=n}),t},a=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const e=function(e){i[1](a(o(e)))};return t.apply(this,[e,arguments[0]])}return new Promise((e,n)=>{t.apply(this,[function(t){e(a(o(t)))},n])}).then(n,r)}}function E(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>_(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),p(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>_(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach(n=>{n.track===e&&(t?r=!0:t=n)}),this.getReceivers().forEach(t=>(t.track===e&&(n?r=!0:n=t),t.track===e)),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function k(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),i.apply(this,arguments)}}function x(e){if(!e.RTCPeerConnection)return;const t=m(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return k(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>o(this,e))}});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=c.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function D(e){const t=m(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!e.RTCPeerConnection)return;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});const n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}function I(e){p(e,"negotiationneeded",e=>{if("stable"===e.target.signalingState)return e})}var O=n(1),j=n.n(O);function M(e){const t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(e=>Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e)))}}function L(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function A(e){const t=m(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=j()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){let n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(e=>{if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&v("RTCIceServer.url","RTCIceServer.urls");const r="string"==typeof t;return r&&(t=[t]),t=t.filter(e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n}),delete e.url,e.urls=r?t[0]:t,!!t.length}})}(e.iceServers,t.version),h("ICE servers after filtering:",e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function N(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function F(e){const t=m(e),n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){v("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function U(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function z(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function G(e){const t=m(e);if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});const n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,o){return i.apply(this,[e||null]).then(e=>{if(t.version<53&&!n)try{e.forEach(e=>{e.type=r[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,n)=>{e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))})}return e}).then(n,o)}}function B(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function W(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),p(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function V(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){v("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function $(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function J(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})})}}function q(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function K(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let c=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=c,c=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=c,c=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=c}function Z(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(H(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function H(e){return e&&void 0!==e.video?Object.assign({},e,{video:y(e.video)}):e}function Y(e){const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(v("RTCIceServer.url","RTCIceServer.urls"),(r=JSON.parse(JSON.stringify(r))).urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function X(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Q(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}var ee=n(0),te=n.n(ee);function ne(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=te.a.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,p(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function re(e){if(e.RTCSctpTransport||!e.RTCPeerConnection)return;const t=m(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,function(e){if(!e||!e.sdp)return!1;const t=te.a.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=te.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),r=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=te.a.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],e);let i;i=0===n&&0===r?Number.POSITIVE_INFINITY:0===n||0===r?Math.max(n,r):Math.min(n,r);const o={};Object.defineProperty(o,"maxMessageSize",{get:()=>i}),this._sctp=o}return n.apply(this,arguments)}}function ie(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},p(e,"datachannel",e=>(t(e.channel,e.target),e))}function oe(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function ae(e){if(!e.RTCPeerConnection)return;const t=m(e);if("chrome"===t.browser&&t.version>=71)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n")),n.apply(this,arguments)}}const ce=function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=h,s=m(e),u={browserDetails:s,commonShim:c,extractVersion:f,disableLog:l,disableWarnings:d};switch(s.browser){case"chrome":if(!r||!D||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),u;n("adapter.js shimming chrome."),u.browserShim=r,S(e),b(e),D(e),R(e),x(e),w(e),P(e),E(e),I(e),ne(e),oe(e),re(e),ie(e),ae(e);break;case"firefox":if(!o||!G||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),u;n("adapter.js shimming firefox."),u.browserShim=o,F(e),G(e),z(e),V(e),B(e),W(e),$(e),ne(e),oe(e),re(e),ie(e);break;case"edge":if(!i||!A||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),u;n("adapter.js shimming edge."),u.browserShim=i,M(e),L(e),A(e),N(e),re(e),ie(e);break;case"safari":if(!a||!t.shimSafari)return n("Safari shim is not included in this adapter release."),u;n("adapter.js shimming safari."),u.browserShim=a,Y(e),Q(e),K(e),J(e),q(e),X(e),Z(e),ne(e),re(e),ie(e),ae(e);break;default:n("Unsupported browser!")}return u}({window:window});t.default=ce}]);